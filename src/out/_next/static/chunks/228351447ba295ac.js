(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";let t,r,s,a,n;var o,l,i,d,c,u,m,x,p,f=e.i(43476),h=e.i(71645);let b=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let y=(0,h.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:n,iconNode:o,...l},i)=>(0,h.createElement)("svg",{ref:i,...g,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:b("lucide",a),...l},[...o.map(([e,t])=>(0,h.createElement)(e,t)),...Array.isArray(n)?n:[n]])),v=(e,t)=>{let r=(0,h.forwardRef)(({className:r,...s},a)=>(0,h.createElement)(y,{ref:a,iconNode:t,className:b(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...s}));return r.displayName=`${e}`,r},j=v("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),N=v("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),w=v("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]),k=v("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),S=v("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),C=v("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),E=v("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),I=v("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),D=v("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),A=v("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),P=[{id:"issues",label:"Issues",icon:j},{id:"tasks",label:"Tasks",icon:N},{id:"photos",label:"Photos",icon:w},{id:"search",label:"Search & Filters",icon:k},{id:"reports",label:"Reports",icon:S},{id:"import-export",label:"Import / Export",icon:C},{id:"settings",label:"Settings",icon:E}];function z({currentScreen:e,onScreenChange:t,currentProject:r,onCloseProject:s}){let[a,n]=(0,h.useState)(!1);return(0,f.jsxs)("aside",{className:"w-56 border-r border-border bg-secondary flex flex-col",children:[(0,f.jsxs)("div",{className:"border-b border-border p-3",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,f.jsx)("div",{className:"w-6 h-6 bg-primary rounded-md flex items-center justify-center flex-shrink-0",children:(0,f.jsx)("span",{className:"text-white font-bold text-sm",children:"DB"})}),(0,f.jsx)("span",{className:"text-xs text-text-tertiary",children:"Issue Tracker"})]}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsxs)("button",{onClick:()=>n(!a),className:"w-full flex items-center justify-between p-2 rounded-md hover:bg-surface-elevated transition-colors border border-border text-sm",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,f.jsx)(A,{size:14,className:"flex-shrink-0"}),(0,f.jsx)("span",{className:"truncate text-foreground font-medium",children:r.name})]}),(0,f.jsx)(I,{size:14,className:"flex-shrink-0"})]}),a&&(0,f.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded-md shadow-lg z-50",children:(0,f.jsxs)("button",{onClick:()=>{s(),n(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-destructive hover:bg-surface-elevated transition-colors border-t border-border first:border-t-0",children:[(0,f.jsx)(D,{size:14}),"Close Project"]})})]})]}),(0,f.jsx)("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:P.map(r=>{let s=r.icon,a=e===r.id;return(0,f.jsxs)("button",{onClick:()=>t(r.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-sm font-medium ${a?"bg-primary text-white":"text-foreground hover:bg-surface-elevated"}`,children:[(0,f.jsx)(s,{size:18}),(0,f.jsx)("span",{children:r.label})]},r.id)})}),(0,f.jsxs)("div",{className:"border-t border-border p-4 text-xs text-text-tertiary",children:[(0,f.jsx)("p",{children:"Version 1.0"}),(0,f.jsx)("p",{className:"mt-2",children:"Â© 2026 Issue Tracker"})]})]})}let O=v("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function T(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function R(...e){return t=>{let r=!1,s=e.map(e=>{let s=T(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():T(e[t],null)}}}}function M(...e){return h.useCallback(R(...e),e)}var F=h.forwardRef((e,t)=>{let{children:r,...s}=e,a=h.Children.toArray(r),n=a.find(_);if(n){let e=n.props.children,r=a.map(t=>t!==n?t:h.Children.count(e)>1?h.Children.only(null):h.isValidElement(e)?e.props.children:null);return(0,f.jsx)(L,{...s,ref:t,children:h.isValidElement(e)?h.cloneElement(e,void 0,r):null})}return(0,f.jsx)(L,{...s,ref:t,children:r})});F.displayName="Slot";var L=h.forwardRef((e,t)=>{let{children:r,...s}=e;if(h.isValidElement(r)){var a;let e,n,o=(a=r,(n=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(n=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref);return h.cloneElement(r,{...function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{n(...e),a(...e)}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props),ref:t?R(t,o):o})}return h.Children.count(r)>1?h.Children.only(null):null});L.displayName="SlotClone";var $=({children:e})=>(0,f.jsx)(f.Fragment,{children:e});function _(e){return h.isValidElement(e)&&e.type===$}function q(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s}let W=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,K=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),U=[],V=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let s=e[t],a=r.nextPart.get(s);if(a){let r=V(e,t+1,a);if(r)return r}let n=r.validators;if(null===n)return;let o=0===t?e.join("-"):e.slice(t).join("-"),l=n.length;for(let e=0;e<l;e++){let t=n[e];if(t.validator(o))return t.classGroupId}},B=(e,t)=>{let r=K();for(let s in e)J(e[s],r,s,t);return r},J=(e,t,r,s)=>{let a=e.length;for(let n=0;n<a;n++)H(e[n],t,r,s)},H=(e,t,r,s)=>{"string"==typeof e?G(e,t,r):"function"==typeof e?Y(e,t,r,s):Z(e,t,r,s)},G=(e,t,r)=>{(""===e?t:X(t,e)).classGroupId=r},Y=(e,t,r,s)=>{Q(e)?J(e(s),t,r,s):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e}))},Z=(e,t,r,s)=>{let a=Object.entries(e),n=a.length;for(let e=0;e<n;e++){let[n,o]=a[e];J(o,X(t,n),r,s)}},X=(e,t)=>{let r=e,s=t.split("-"),a=s.length;for(let e=0;e<a;e++){let t=s[e],a=r.nextPart.get(t);a||(a=K(),r.nextPart.set(t,a)),r=a}return r},Q=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,ee=[],et=(e,t,r,s,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:s,isExternal:a}),er=/\s+/,es=e=>{let t;if("string"==typeof e)return e;let r="";for(let s=0;s<e.length;s++)e[s]&&(t=es(e[s]))&&(r&&(r+=" "),r+=t);return r},ea=[],en=e=>{let t=t=>t[e]||ea;return t.isThemeGetter=!0,t},eo=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,el=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ei=/^\d+\/\d+$/,ed=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ec=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,em=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ep=e=>ei.test(e),ef=e=>!!e&&!Number.isNaN(Number(e)),eh=e=>!!e&&Number.isInteger(Number(e)),eb=e=>e.endsWith("%")&&ef(e.slice(0,-1)),eg=e=>ed.test(e),ey=()=>!0,ev=e=>ec.test(e)&&!eu.test(e),ej=()=>!1,eN=e=>em.test(e),ew=e=>ex.test(e),ek=e=>!eC(e)&&!ez(e),eS=e=>e$(e,eK,ej),eC=e=>eo.test(e),eE=e=>e$(e,eU,ev),eI=e=>e$(e,eV,ef),eD=e=>e$(e,eq,ej),eA=e=>e$(e,eW,ew),eP=e=>e$(e,eJ,eN),ez=e=>el.test(e),eO=e=>e_(e,eU),eT=e=>e_(e,eB),eR=e=>e_(e,eq),eM=e=>e_(e,eK),eF=e=>e_(e,eW),eL=e=>e_(e,eJ,!0),e$=(e,t,r)=>{let s=eo.exec(e);return!!s&&(s[1]?t(s[1]):r(s[2]))},e_=(e,t,r=!1)=>{let s=el.exec(e);return!!s&&(s[1]?t(s[1]):r)},eq=e=>"position"===e||"percentage"===e,eW=e=>"image"===e||"url"===e,eK=e=>"length"===e||"size"===e||"bg-size"===e,eU=e=>"length"===e,eV=e=>"number"===e,eB=e=>"family-name"===e,eJ=e=>"shadow"===e,eH=((e,...t)=>{let r,s,a,n,o=e=>{let t=s(e);if(t)return t;let n=((e,t)=>{let{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:n}=t,o=[],l=e.trim().split(er),i="";for(let e=l.length-1;e>=0;e-=1){let t=l[e],{isExternal:d,modifiers:c,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:x}=r(t);if(d){i=t+(i.length>0?" "+i:i);continue}let p=!!x,f=s(p?m.substring(0,x):m);if(!f){if(!p||!(f=s(m))){i=t+(i.length>0?" "+i:i);continue}p=!1}let h=0===c.length?"":1===c.length?c[0]:n(c).join(":"),b=u?h+"!":h,g=b+f;if(o.indexOf(g)>-1)continue;o.push(g);let y=a(f,p);for(let e=0;e<y.length;++e){let t=y[e];o.push(b+t)}i=t+(i.length>0?" "+i:i)}return i})(e,r);return a(e,n),n};return n=l=>{var i;let d;return s=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),s=Object.create(null),a=(a,n)=>{r[a]=n,++t>e&&(t=0,s=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=s[e])?(a(e,t),t):void 0},set(e,t){e in r?r[e]=t:a(e,t)}}})((i=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,s=e=>{let t,r=[],s=0,a=0,n=0,o=e.length;for(let l=0;l<o;l++){let o=e[l];if(0===s&&0===a){if(":"===o){r.push(e.slice(n,l)),n=l+1;continue}if("/"===o){t=l;continue}}"["===o?s++:"]"===o?s--:"("===o?a++:")"===o&&a--}let l=0===r.length?e:e.slice(n),i=l,d=!1;return l.endsWith("!")?(i=l.slice(0,-1),d=!0):l.startsWith("!")&&(i=l.slice(1),d=!0),et(r,d,i,t&&t>n?t-n:void 0)};if(t){let e=t+":",r=s;s=t=>t.startsWith(e)?r(t.slice(e.length)):et(ee,!1,t,void 0,!0)}if(r){let e=s;s=t=>r({className:t,parseClassName:e})}return s})(i),sortModifiers:(d=new Map,i.orderSensitiveModifiers.forEach((e,t)=>{d.set(e,1e6+t)}),e=>{let t=[],r=[];for(let s=0;s<e.length;s++){let a=e[s],n="["===a[0],o=d.has(a);n||o?(r.length>0&&(r.sort(),t.push(...r),r=[]),t.push(a)):r.push(a)}return r.length>0&&(r.sort(),t.push(...r)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return B(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var r;let t,s,a;return -1===(r=e).slice(1,-1).indexOf(":")?void 0:(s=(t=r.slice(1,-1)).indexOf(":"),(a=t.slice(0,s))?"arbitrary.."+a:void 0)}let s=e.split("-"),a=+(""===s[0]&&s.length>1);return V(s,a,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=s[e],a=r[e];if(t){if(a){let e=Array(a.length+t.length);for(let t=0;t<a.length;t++)e[t]=a[t];for(let r=0;r<t.length;r++)e[a.length+r]=t[r];return e}return t}return a||U}return r[e]||U}}})(i)}).cache.get,a=r.cache.set,n=o,o(l)},(...e)=>n(((...e)=>{let t,r,s=0,a="";for(;s<e.length;)(t=e[s++])&&(r=es(t))&&(a&&(a+=" "),a+=r);return a})(...e))})(()=>{let e=en("color"),t=en("font"),r=en("text"),s=en("font-weight"),a=en("tracking"),n=en("leading"),o=en("breakpoint"),l=en("container"),i=en("spacing"),d=en("radius"),c=en("shadow"),u=en("inset-shadow"),m=en("text-shadow"),x=en("drop-shadow"),p=en("blur"),f=en("perspective"),h=en("aspect"),b=en("ease"),g=en("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...v(),ez,eC],N=()=>["auto","hidden","clip","visible","scroll"],w=()=>["auto","contain","none"],k=()=>[ez,eC,i],S=()=>[ep,"full","auto",...k()],C=()=>[eh,"none","subgrid",ez,eC],E=()=>["auto",{span:["full",eh,ez,eC]},eh,ez,eC],I=()=>[eh,"auto",ez,eC],D=()=>["auto","min","max","fr",ez,eC],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...k()],O=()=>[ep,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],T=()=>[e,ez,eC],R=()=>[...v(),eR,eD,{position:[ez,eC]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",eM,eS,{size:[ez,eC]}],L=()=>[eb,eO,eE],$=()=>["","none","full",d,ez,eC],_=()=>["",ef,eO,eE],q=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[ef,eb,eR,eD],U=()=>["","none",p,ez,eC],V=()=>["none",ef,ez,eC],B=()=>["none",ef,ez,eC],J=()=>[ef,ez,eC],H=()=>[ep,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[eg],breakpoint:[eg],color:[ey],container:[eg],"drop-shadow":[eg],ease:["in","out","in-out"],font:[ek],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[eg],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[eg],shadow:[eg],spacing:["px",ef],text:[eg],"text-shadow":[eg],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ep,eC,ez,h]}],container:["container"],columns:[{columns:[ef,eC,ez,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:S()}],"inset-x":[{"inset-x":S()}],"inset-y":[{"inset-y":S()}],start:[{start:S()}],end:[{end:S()}],top:[{top:S()}],right:[{right:S()}],bottom:[{bottom:S()}],left:[{left:S()}],visibility:["visible","invisible","collapse"],z:[{z:[eh,"auto",ez,eC]}],basis:[{basis:[ep,"full","auto",l,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ef,ep,"auto","initial","none",eC]}],grow:[{grow:["",ef,ez,eC]}],shrink:[{shrink:["",ef,ez,eC]}],order:[{order:[eh,"first","last","none",ez,eC]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[l,"screen",...O()]}],"min-w":[{"min-w":[l,"screen","none",...O()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",r,eO,eE]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ez,eI]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",eb,eC]}],"font-family":[{font:[eT,eC,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ez,eC]}],"line-clamp":[{"line-clamp":[ef,"none",ez,eI]}],leading:[{leading:[n,...k()]}],"list-image":[{"list-image":["none",ez,eC]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ez,eC]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[ef,"from-font","auto",ez,eE]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[ef,"auto",ez,eC]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ez,eC]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ez,eC]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},eh,ez,eC],radial:["",ez,eC],conic:[eh,ez,eC]},eF,eA]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:_()}],"border-w-x":[{"border-x":_()}],"border-w-y":[{"border-y":_()}],"border-w-s":[{"border-s":_()}],"border-w-e":[{"border-e":_()}],"border-w-t":[{"border-t":_()}],"border-w-r":[{"border-r":_()}],"border-w-b":[{"border-b":_()}],"border-w-l":[{"border-l":_()}],"divide-x":[{"divide-x":_()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ef,ez,eC]}],"outline-w":[{outline:["",ef,eO,eE]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",c,eL,eP]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",u,eL,eP]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[ef,eE]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":_()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",m,eL,eP]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[ef,ez,eC]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ef]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[ez,eC]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[ef]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ez,eC]}],filter:[{filter:["","none",ez,eC]}],blur:[{blur:U()}],brightness:[{brightness:[ef,ez,eC]}],contrast:[{contrast:[ef,ez,eC]}],"drop-shadow":[{"drop-shadow":["","none",x,eL,eP]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",ef,ez,eC]}],"hue-rotate":[{"hue-rotate":[ef,ez,eC]}],invert:[{invert:["",ef,ez,eC]}],saturate:[{saturate:[ef,ez,eC]}],sepia:[{sepia:["",ef,ez,eC]}],"backdrop-filter":[{"backdrop-filter":["","none",ez,eC]}],"backdrop-blur":[{"backdrop-blur":U()}],"backdrop-brightness":[{"backdrop-brightness":[ef,ez,eC]}],"backdrop-contrast":[{"backdrop-contrast":[ef,ez,eC]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ef,ez,eC]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ef,ez,eC]}],"backdrop-invert":[{"backdrop-invert":["",ef,ez,eC]}],"backdrop-opacity":[{"backdrop-opacity":[ef,ez,eC]}],"backdrop-saturate":[{"backdrop-saturate":[ef,ez,eC]}],"backdrop-sepia":[{"backdrop-sepia":["",ef,ez,eC]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ez,eC]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ef,"initial",ez,eC]}],ease:[{ease:["linear","initial",b,ez,eC]}],delay:[{delay:[ef,ez,eC]}],animate:[{animate:["none",g,ez,eC]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,ez,eC]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:V()}],"rotate-x":[{"rotate-x":V()}],"rotate-y":[{"rotate-y":V()}],"rotate-z":[{"rotate-z":V()}],scale:[{scale:B()}],"scale-x":[{"scale-x":B()}],"scale-y":[{"scale-y":B()}],"scale-z":[{"scale-z":B()}],"scale-3d":["scale-3d"],skew:[{skew:J()}],"skew-x":[{"skew-x":J()}],"skew-y":[{"skew-y":J()}],transform:[{transform:[ez,eC,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:H()}],"translate-x":[{"translate-x":H()}],"translate-y":[{"translate-y":H()}],"translate-z":[{"translate-z":H()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ez,eC]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ez,eC]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[ef,eO,eE,eI]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function eG(...e){return eH(q(e))}let eY=(t="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var s;if((null==r?void 0:r.variants)==null)return q(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:a,defaultVariants:n}=r,o=Object.keys(a).map(t=>{let r=null==e?void 0:e[t],s=null==n?void 0:n[t];if(null===r)return null;let o=W(r)||W(s);return a[t][o]}),l=e&&Object.entries(e).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return q(t,o,null==r||null==(s=r.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...l}[t]):({...n,...l})[t]===r})?[...e,r,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function eZ({className:e,variant:t,size:r,asChild:s=!1,...a}){let n=s?F:"button";return(0,f.jsx)(n,{"data-slot":"button",className:eG(eY({variant:t,size:r,className:e})),...a})}function eX({className:e,type:t,...r}){return(0,f.jsx)("input",{type:t,"data-slot":"input",className:eG("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function eQ({className:e,...t}){return(0,f.jsx)("div",{"data-slot":"card",className:eG("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}var e0=e.i(76753);function e2({onProjectSelect:e}){let[t,r]=(0,h.useState)([]),[s,a]=(0,h.useState)(!0),[n,o]=(0,h.useState)(!1),[l,i]=(0,h.useState)(""),[d,c]=(0,h.useState)(""),[u,m]=(0,h.useState)(!1);async function x(){a(!0),r(await (0,e0.getAllProjects)()),a(!1)}async function p(){if(!l.trim())return;m(!0);let t=await (0,e0.createProject)(l,d);m(!1),t&&(i(""),c(""),o(!1),e(t),await x())}return(0,h.useEffect)(()=>{x()},[]),(0,f.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,f.jsxs)("div",{className:"w-96 border-r border-border bg-secondary flex flex-col",children:[(0,f.jsxs)("div",{className:"h-16 border-b border-border flex items-center px-6 gap-2",children:[(0,f.jsx)("div",{className:"w-6 h-6 bg-primary rounded-md flex items-center justify-center",children:(0,f.jsx)("span",{className:"text-white font-bold text-sm",children:"DB"})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{className:"font-semibold text-sm text-foreground",children:"Projects"}),(0,f.jsx)("p",{className:"text-xs text-text-tertiary",children:"Select or create"})]})]}),(0,f.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:s?(0,f.jsx)("p",{className:"text-sm text-text-tertiary text-center py-8",children:"Loading projects..."}):0===t.length?(0,f.jsx)("p",{className:"text-sm text-text-tertiary text-center py-8",children:"No projects yet. Create one to get started."}):t.map(t=>(0,f.jsxs)("button",{onClick:()=>e(t),className:"w-full text-left p-3 rounded-lg hover:bg-surface-elevated transition-colors border border-border",children:[(0,f.jsx)("h3",{className:"font-medium text-sm text-foreground",children:t.name}),t.description&&(0,f.jsx)("p",{className:"text-xs text-text-tertiary mt-1 line-clamp-2",children:t.description}),(0,f.jsx)("p",{className:"text-xs text-text-tertiary mt-2",children:new Date(t.created_at||"").toLocaleDateString()})]},t.id))}),(0,f.jsx)("div",{className:"border-t border-border p-4",children:(0,f.jsxs)(eZ,{onClick:()=>o(!n),className:"w-full",variant:n?"default":"outline",children:[(0,f.jsx)(O,{size:16,className:"mr-2"}),"New Project"]})})]}),(0,f.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:n?(0,f.jsxs)(eQ,{className:"w-full max-w-md p-6",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold mb-6 text-foreground",children:"Create New Project"}),(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Name *"}),(0,f.jsx)(eX,{placeholder:"Enter project name",value:l,onChange:e=>i(e.target.value),autoFocus:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description (optional)"}),(0,f.jsx)("textarea",{placeholder:"Enter project description",value:d,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground text-sm",rows:4})]}),(0,f.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,f.jsx)(eZ,{onClick:p,disabled:!l.trim()||u,className:"flex-1",children:u?"Creating...":"Create Project"}),(0,f.jsx)(eZ,{onClick:()=>o(!1),variant:"outline",disabled:u,className:"flex-1",children:"Cancel"})]})]})]}):0===t.length?(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)(A,{size:48,className:"mx-auto mb-4 text-text-secondary opacity-50"}),(0,f.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"No Projects Yet"}),(0,f.jsx)("p",{className:"text-text-secondary mb-6",children:"Create your first project to get started"}),(0,f.jsxs)(eZ,{onClick:()=>o(!0),children:[(0,f.jsx)(O,{size:16,className:"mr-2"}),"Create Project"]})]}):(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)(A,{size:48,className:"mx-auto mb-4 text-text-secondary opacity-50"}),(0,f.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Select a Project"}),(0,f.jsx)("p",{className:"text-text-secondary",children:"Choose a project from the left to open it"})]})})]})}let e1=v("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),e4=v("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);async function e3(){return await e.A(46623)}async function e6(){return(await e3()).getAllFields()}async function e5(){return(await e3()).getCustomFields()}async function e8(e){return(await e3()).addCustomField(e)}async function e7(e){return(await e3()).deleteField(e)}async function e9(e,t){return(await e3()).saveFieldVisibility(e,t)}async function te(){return await e.A(87944)}async function tt(){return(await te()).getAllIssues()}async function tr(e){let t=await te();return t.queryIssues?t.queryIssues(e):[]}async function ts(e){return(await te()).createIssue(e)}async function ta(e){return(await te()).getIssueById(e)}async function tn(e,t){return(await te()).updateIssue(e,t)}async function to(e){return(await te()).deleteIssue(e)}e.i(47167);let tl="issueFilters",ti="filterPresets",td="filterHistory";function tc(){let[e,t]=(0,h.useState)([]),[r,s]=(0,h.useState)({field:"",op:"eq",value:""}),[a,n]=(0,h.useState)([]),[o,l]=(0,h.useState)([]);(0,h.useEffect)(()=>{try{let e=localStorage.getItem(tl);e&&t(JSON.parse(e));let r=localStorage.getItem(ti);r&&n(JSON.parse(r));let s=localStorage.getItem(td);s&&l(JSON.parse(s))}catch(e){console.error("[v0] Error loading filters from localStorage:",e)}},[]),(0,h.useEffect)(()=>{try{localStorage.setItem(tl,JSON.stringify(e))}catch(e){console.error("[v0] Error saving filters to localStorage:",e)}},[e]);let i=e=>{t(e),e.length>0&&l(t=>{let r=[e,...t].slice(0,5);try{localStorage.setItem(td,JSON.stringify(r))}catch(e){console.error("[v0] Error saving filter history:",e)}return r})},d=(()=>{if(0===o.length)return[];let e={};return o.forEach(t=>{t.forEach(t=>{let r=`${t.field}:${t.value}`;e[r]=(e[r]||0)+1})}),Object.entries(e).sort((e,t)=>t[1]-e[1]).slice(0,5).map(([e])=>{let[t,r]=e.split(":");return{field:t,op:"eq",value:r}})})();return{filters:e,setFilters:i,addFilter:t=>{t.field&&""!==t.value&&null!==t.value&&(i([...e,t]),s({field:"",op:"eq",value:""}))},removeFilter:t=>{i(e.filter((e,r)=>r!==t))},clearFilters:()=>{i([]),s({field:"",op:"eq",value:""})},currentFilter:r,setCurrentFilter:s,savePreset:t=>{if(!t.trim()||0===e.length)return;let r={id:Date.now().toString(),name:t.trim(),filters:[...e],createdAt:Date.now()};n(e=>{let t=[...e,r];try{localStorage.setItem(ti,JSON.stringify(t))}catch(e){console.error("[v0] Error saving preset:",e)}return t})},loadPreset:e=>{let t=a.find(t=>t.id===e);t&&i([...t.filters])},deletePreset:e=>{n(t=>{let r=t.filter(t=>t.id!==e);try{localStorage.setItem(ti,JSON.stringify(r))}catch(e){console.error("[v0] Error deleting preset:",e)}return r})},presets:a,filterHistory:o,suggestedFilters:d}}function tu({fields:e,filters:t,onClose:r,onApply:s}){let[a,n]=(0,h.useState)(t),[o,l]=(0,h.useState)("AND");function i(e){switch(e){case"number":return[{value:"eq",label:"="},{value:"lt",label:"<"},{value:"gt",label:">"},{value:"lte",label:"<="},{value:"gte",label:">="},{value:"in",label:"in"}];case"date":return[{value:"eq",label:"="},{value:"lt",label:"<"},{value:"gt",label:">"},{value:"lte",label:"<="},{value:"gte",label:">="}];case"select":return[{value:"eq",label:"="},{value:"in",label:"in"}];default:return[{value:"contains",label:"contains"},{value:"eq",label:"="},{value:"in",label:"in"}]}}let d=(e,t,r)=>{n(s=>s.map((s,a)=>a===e?{...s,[t]:r}:s))};return(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-auto flex flex-col",children:[(0,f.jsxs)("div",{className:"h-16 border-b border-border px-8 py-4 flex items-center justify-between bg-surface-elevated sticky top-0",children:[(0,f.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:"Advanced Filters"}),(0,f.jsx)("button",{onClick:r,className:"p-2 hover:bg-secondary rounded-lg transition-colors text-text-secondary hover:text-foreground",children:(0,f.jsx)(e4,{size:20})})]}),(0,f.jsxs)("div",{className:"flex-1 overflow-auto p-6 space-y-4",children:[(0,f.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-surface rounded-lg border border-border",children:[(0,f.jsx)("span",{className:"text-sm font-medium text-text-secondary",children:"Match filters:"}),(0,f.jsxs)("div",{className:"flex gap-2",children:[(0,f.jsx)("button",{onClick:()=>l("AND"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"AND"===o?"bg-primary text-white":"bg-surface-elevated text-text-secondary hover:bg-secondary"}`,children:"ALL (AND)"}),(0,f.jsx)("button",{onClick:()=>l("OR"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"OR"===o?"bg-primary text-white":"bg-surface-elevated text-text-secondary hover:bg-secondary"}`,children:"ANY (OR)"})]})]}),(0,f.jsx)("div",{className:"space-y-3",children:a.map((t,r)=>{let s,o;return(0,f.jsxs)("div",{className:"p-4 bg-surface rounded-lg border border-border space-y-3",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("span",{className:"text-xs font-medium text-text-secondary",children:["Condition ",r+1]}),a.length>1&&(0,f.jsx)("button",{onClick:()=>{n(e=>e.filter((e,t)=>t!==r))},className:"text-xs px-3 py-1 text-error hover:bg-error/10 rounded transition-colors",children:"Remove"})]}),(0,f.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,f.jsx)("label",{className:"text-xs text-text-secondary font-medium",children:"Field"}),(0,f.jsxs)("select",{value:t.field,onChange:t=>{let s=t.target.value,a=e.find(e=>e.name===s),n=i(a?.type),o=n&&n.length?n[0].value:"eq";d(r,"field",s),d(r,"op",o)},className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",children:[(0,f.jsx)("option",{value:"",children:"Select field"}),e.map(e=>(0,f.jsx)("option",{value:e.name,children:e.label||e.name},e.name))]})]}),(0,f.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,f.jsx)("label",{className:"text-xs text-text-secondary font-medium",children:"Operator"}),(0,f.jsx)("select",{value:t.op,onChange:e=>d(r,"op",e.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",children:(s=e.find(e=>e.name===t.field),i(s?.type).map(e=>(0,f.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,f.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,f.jsx)("label",{className:"text-xs text-text-secondary font-medium",children:"Value"}),(o=e.find(e=>e.name===t.field),t.field&&o?"select"===o.type&&o.options&&o.options.length?"in"===t.op?(0,f.jsx)("select",{multiple:!0,value:Array.isArray(t.value)?t.value:[],onChange:e=>{d(r,"value",Array.from(e.target.selectedOptions).map(e=>e.value))},className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",children:o.options.map(e=>(0,f.jsx)("option",{value:e,children:e},e))}):(0,f.jsxs)("select",{value:t.value,onChange:e=>d(r,"value",e.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",children:[(0,f.jsx)("option",{value:"",children:"Select..."}),o.options.map(e=>(0,f.jsx)("option",{value:e,children:e},e))]}):"number"===o.type?(0,f.jsx)("input",{type:"number",value:t.value,onChange:e=>d(r,"value",""===e.target.value?"":Number(e.target.value)),placeholder:"Enter number",className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm"}):"date"===o.type?(0,f.jsx)("input",{type:"date",value:t.value,onChange:e=>d(r,"value",e.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm"}):(0,f.jsx)("input",{value:t.value,onChange:e=>d(r,"value",e.target.value),placeholder:"Enter value",className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm"}):(0,f.jsx)("input",{value:t.value,onChange:e=>d(r,"value",e.target.value),placeholder:"Select a field first",className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",disabled:!0}))]})]},r)})}),(0,f.jsx)("button",{onClick:()=>{n(e=>[...e,{field:"",op:"eq",value:""}])},className:"w-full px-4 py-3 border-2 border-dashed border-border rounded-lg text-text-secondary hover:text-foreground hover:border-primary transition-colors text-sm font-medium",children:"+ Add another condition"})]}),(0,f.jsxs)("div",{className:"h-20 border-t border-border px-8 py-4 flex items-center justify-end gap-3 bg-surface-elevated sticky bottom-0",children:[(0,f.jsx)("button",{onClick:r,className:"px-4 py-2 text-foreground rounded-lg border border-border hover:bg-secondary transition-colors text-sm font-medium",children:"Cancel"}),(0,f.jsx)("button",{onClick:()=>s(a),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium",children:"Apply Filters"})]})]})})}function tm({open:e,defaultValue:t="",title:r="",onConfirm:s,onCancel:a}){let[n,o]=(0,h.useState)(t),[l,i]=(0,h.useState)(null),d=(0,h.useRef)(null);return((0,h.useEffect)(()=>{o(t),i(null)},[t,e]),(0,h.useEffect)(()=>{if(e){let e=setTimeout(()=>d.current?.focus(),50);return()=>clearTimeout(e)}},[e]),e)?(0,f.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-md p-6",children:[r?(0,f.jsx)("h3",{className:"text-lg font-semibold mb-3",children:r}):null,(0,f.jsx)("input",{ref:d,value:n,onChange:e=>{o(e.target.value),l&&i(null)},onKeyDown:e=>{let t=n.trim();"Enter"===e.key?0===t.length?i("Name cannot be empty"):s(t):"Escape"===e.key&&a()},className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground mb-2",placeholder:"Enter name"}),l?(0,f.jsx)("p",{className:"text-sm text-error mb-2",children:l}):null,(0,f.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,f.jsx)("button",{onClick:()=>a(),className:"px-3 py-2 rounded-lg bg-transparent border border-border text-text-secondary hover:bg-secondary",children:"Cancel"}),(0,f.jsx)("button",{onClick:()=>{let e=n.trim();0===e.length?i("Name cannot be empty"):s(e)},disabled:0===n.trim().length,className:`px-3 py-2 rounded-lg bg-primary text-white hover:bg-primary/90 ${0===n.trim().length?"opacity-50 pointer-events-none":""}`,children:"Save"})]})]})}):null}function tx({onSelectIssue:e,showFilters:t=!0}){let r,s,[a,n]=(0,h.useState)([]),[o,l]=(0,h.useState)([]),[i,d]=(0,h.useState)(!0),[c,u]=(0,h.useState)(null),[m,x]=(0,h.useState)(!1),{filters:p,setFilters:b,addFilter:g,removeFilter:y,clearFilters:v,currentFilter:j,setCurrentFilter:N,savePreset:w,loadPreset:k,deletePreset:S,presets:C,filterHistory:E,suggestedFilters:I}=tc(),[D,A]=(0,h.useState)(!0),[P,z]=(0,h.useState)(!1),[O,T]=(0,h.useState)(!1),[R,M]=(0,h.useState)(!1),F=(0,h.useRef)(null),L=(0,h.useRef)(null);function $(e){switch(e){case"number":return[{value:"eq",label:"="},{value:"lt",label:"<"},{value:"gt",label:">"},{value:"lte",label:"<="},{value:"gte",label:">="},{value:"in",label:"in"}];case"date":return[{value:"eq",label:"="},{value:"lt",label:"<"},{value:"gt",label:">"},{value:"lte",label:"<="},{value:"gte",label:">="}];case"select":return[{value:"eq",label:"="},{value:"in",label:"in"}];default:return[{value:"contains",label:"contains"},{value:"eq",label:"="},{value:"in",label:"in"}]}}if((0,h.useEffect)(()=>{(async()=>{try{d(!0);let e=await e6();l(e);let t=await tt();n(t||[])}catch(e){u(e instanceof Error?e.message:"An error occurred"),console.error("[v0] Error fetching data:",e)}finally{d(!1)}})()},[]),(0,h.useEffect)(()=>{if(console.log("Filters changed:",p),D&&0!==p.length)return L.current&&clearTimeout(L.current),L.current=setTimeout(async()=>{try{d(!0);let e=await tr(p);n(e||[])}catch(e){u(e instanceof Error?e.message:"Failed to query issues")}finally{d(!1)}},300),()=>{L.current&&clearTimeout(L.current)}},[p,D]),(0,h.useEffect)(()=>{t&&setTimeout(()=>F.current?.focus(),50)},[t]),(0,h.useEffect)(()=>{let e=setTimeout(()=>{i&&(x(!0),u("Taking longer than usual to load issues. Please check your connection or try again later."))},5e3);return()=>clearTimeout(e)},[i]),i&&!m)return(0,f.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,f.jsx)("p",{className:"text-text-secondary",children:"Loading issues..."})});if(c)return(0,f.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,f.jsx)("p",{className:"text-error",children:c})});if(0===a.length)return(0,f.jsx)("div",{className:"flex items-center justify-center h-full p-6",children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("p",{className:"text-text-secondary mb-4",children:"No issues found."}),p.length>0?(0,f.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,f.jsx)("p",{className:"text-text-secondary",children:"Your filters returned no results."}),(0,f.jsx)("button",{onClick:async()=>{v();try{d(!0);let e=await tt();n(e||[]),u(null)}catch(e){u(e instanceof Error?e.message:"Failed to load issues")}finally{d(!1)}},className:"px-3 py-2 bg-primary text-white rounded-lg",children:"Clear filters"})]}):(0,f.jsx)("p",{className:"text-text-secondary",children:"Create one to get started."})]})});let _=o.sort((e,t)=>(Number.parseInt(e.id||"0")||0)-(Number.parseInt(t.id||"0")||0)).filter(e=>!1!==e.visible).slice(0,15);return(0,f.jsxs)("div",{className:"h-full flex flex-col",children:[t&&(0,f.jsxs)("div",{className:"p-4 border-b border-border bg-surface-elevated space-y-3",children:[C.length>0&&(0,f.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,f.jsx)("span",{className:"text-xs text-text-secondary font-medium",children:"Quick filters:"}),C.map(e=>(0,f.jsx)("button",{onClick:()=>k(e.id),className:"px-3 py-1 text-xs bg-primary/20 text-primary rounded-full hover:bg-primary/30 transition-colors",children:e.name},e.id))]}),I.length>0&&0===p.length&&(0,f.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,f.jsx)("span",{className:"text-xs text-text-secondary font-medium",children:"Suggested:"}),I.slice(0,3).map((e,t)=>(0,f.jsxs)("button",{onClick:()=>{g(e)},className:"px-3 py-1 text-xs bg-secondary/50 text-text-secondary rounded-full hover:bg-secondary transition-colors",children:[e.field,": ",String(e.value)]},t))]}),(0,f.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("label",{className:"text-sm text-text-secondary mr-2",children:"Field"}),(0,f.jsxs)("select",{ref:F,value:j.field,onChange:e=>{let t=e.target.value,r=o.find(e=>e.name===t),s=$(r?.type);N({field:t,op:s&&s.length?s[0].value:"eq",value:""})},className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",children:[(0,f.jsx)("option",{value:"",children:"Select field"}),o.map(e=>(0,f.jsx)("option",{value:e.name,children:e.label||e.name},e.name))]})]}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("label",{className:"text-sm text-text-secondary mr-2",children:"Operator"}),(0,f.jsx)("select",{value:j.op,onChange:e=>N({...j,op:e.target.value}),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",children:(s=o.find(e=>e.name===j.field),$(s?.type).map(e=>(0,f.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,f.jsx)("div",{className:"flex-1",children:(r=o.find(e=>e.name===j.field),j.field&&r?"select"===r.type&&r.options&&r.options.length?"in"===j.op?(0,f.jsx)("select",{multiple:!0,value:Array.isArray(j.value)?j.value:[],onChange:e=>{let t=Array.from(e.target.selectedOptions).map(e=>e.value);N({...j,value:t})},className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",children:r.options.map(e=>(0,f.jsx)("option",{value:e,children:e},e))}):(0,f.jsxs)("select",{value:j.value,onChange:e=>N({...j,value:e.target.value}),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",children:[(0,f.jsx)("option",{value:"",children:"Select..."}),r.options.map(e=>(0,f.jsx)("option",{value:e,children:e},e))]}):"number"===r.type?(0,f.jsx)("input",{type:"number",value:j.value,onChange:e=>N({...j,value:""===e.target.value?"":Number(e.target.value)}),onKeyDown:e=>{"Enter"===e.key&&g(j)},placeholder:"Enter number",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm"}):"date"===r.type?(0,f.jsx)("input",{type:"date",value:j.value,onChange:e=>N({...j,value:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&g(j)},className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm"}):(0,f.jsx)("input",{value:j.value,onChange:e=>N({...j,value:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&g(j)},placeholder:"Enter value",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm"}):(0,f.jsx)("input",{value:j.value,onChange:e=>N({...j,value:e.target.value}),placeholder:"Select a field to enter a value",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground text-sm",disabled:!0}))}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("button",{onClick:()=>g(j),className:"px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition-colors",children:"Add"}),(0,f.jsx)("button",{onClick:()=>T(!0),className:"px-3 py-2 bg-secondary text-foreground rounded-lg text-sm hover:bg-secondary/80 transition-colors",children:"Advanced"}),(0,f.jsx)("button",{onClick:async()=>{v();try{d(!0);let e=await tt();n(e||[])}catch(e){u(e instanceof Error?e.message:"Failed to load issues")}finally{d(!1)}},className:"px-3 py-2 bg-transparent text-foreground rounded-lg border border-border text-sm hover:bg-secondary transition-colors",children:"Clear"})]})]}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("input",{type:"checkbox",id:"auto-apply",checked:D,onChange:e=>A(e.target.checked),className:"w-4 h-4 rounded border-border"}),(0,f.jsx)("label",{htmlFor:"auto-apply",className:"text-sm text-text-secondary cursor-pointer",children:"Auto-apply filters"})]})]}),p.length>0&&(0,f.jsxs)("div",{className:"p-3 flex gap-2 flex-wrap items-center border-b border-border bg-surface",children:[p.map((e,t)=>(0,f.jsxs)("div",{className:"px-3 py-1 bg-surface-elevated rounded-full border border-border flex items-center gap-2",children:[(0,f.jsx)("span",{className:"text-sm",children:`${e.field} ${e.op} ${String(e.value)}`}),(0,f.jsx)("button",{onClick:()=>y(t),className:"text-xs px-2 hover:text-error transition-colors",children:"Ã"})]},t)),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{onClick:()=>M(!0),className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded hover:bg-primary/30 transition-colors",children:"Save preset"}),(0,f.jsx)(tm,{open:R,title:"Save filter preset",defaultValue:"",onCancel:()=>M(!1),onConfirm:e=>{M(!1),e&&w(e)}})]})]}),E.length>0&&0===p.length&&(0,f.jsxs)("div",{className:"p-3 border-b border-border bg-surface text-xs",children:[(0,f.jsx)("p",{className:"text-text-secondary mb-2",children:"Recent filters:"}),(0,f.jsx)("div",{className:"flex gap-2 flex-wrap",children:E.slice(0,5).map((e,t)=>(0,f.jsx)("button",{onClick:()=>b(e),className:"px-2 py-1 bg-surface-elevated rounded hover:bg-secondary transition-colors text-text-secondary hover:text-foreground",children:e.map(e=>`${e.field}=${e.value}`).join(", ")},t))})]}),O&&(0,f.jsx)(tu,{fields:o,filters:p,onClose:()=>T(!1),onApply:e=>{b(e),T(!1)}}),(0,f.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,f.jsxs)("table",{className:"w-full text-sm border-collapse",children:[(0,f.jsx)("thead",{className:"sticky top-0 bg-surface-elevated border-b border-border",children:(0,f.jsx)("tr",{children:_.map(e=>(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary whitespace-nowrap",children:e.label||e.name},e.name))})}),(0,f.jsx)("tbody",{className:"divide-y divide-border",children:a.map(t=>(0,f.jsx)("tr",{onClick:()=>e(t),className:"cursor-pointer hover:bg-secondary transition-colors",children:_.map(e=>(0,f.jsx)("td",{className:"px-6 py-4 text-foreground whitespace-nowrap overflow-hidden text-ellipsis max-w-xs",children:void 0!==t[e.name]&&null!==t[e.name]?String(t[e.name]):"-"},`${t.id}-${e.name}`))},t.id))})]})})]})}let tp=v("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),tf=v("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function th({isOpen:e,onClose:t,onSubmit:r,issueId:s}){let[a,n]=(0,h.useState)([]),[o,l]=(0,h.useState)(!0),[i,d]=(0,h.useState)(null),[c,u]=(0,h.useState)(!1),[m,x]=(0,h.useState)({}),p=(0,h.useRef)(null),b=(0,h.useRef)(null),[g,y]=(0,h.useState)({address:"",observation:"",notes:""}),v=(0,h.useRef)({}),j=!!s,N=j?"Edit Issue":"Create New Issue",w=j?"Save Changes":"Create Issue",k=j?"Saving...":"Creating...";(0,h.useEffect)(()=>{let t=async()=>{try{l(!0);let e=(await e6()).sort((e,t)=>(Number.parseInt(e.id||"0")||0)-(Number.parseInt(t.id||"0")||0));n(e);let t={};if(e.forEach(e=>{t[e.name]="boolean"!==e.type&&""}),j&&s){let e=await ta(s);e&&x(e)}else x(t)}catch(e){d(e instanceof Error?e.message:"Failed to load data"),console.error("[v0] Error loading data:",e)}finally{l(!1)}};e&&t()},[e,s,j]);let S=(e,t)=>{x(r=>({...r,[e]:t}))},C=(e,t)=>{if("Enter"===e.key&&!1===e.ctrlKey&&!1===e.shiftKey){e.preventDefault();let r=a.filter(e=>"textarea"!==e.type),s=t+1;if(s<r.length){let e=r[s],t=v.current[e.name];t&&t.focus()}}},E=async e=>{try{if(window.myappAPI&&"function"==typeof window.myappAPI.selectFolder){let t=await window.myappAPI.selectFolder();t&&S(e,t);return}}catch(e){console.warn("selectFolder via myappAPI failed:",e)}b.current=e,p.current&&(p.current.value="",p.current.click())},I=async()=>{try{u(!0);let e={};Object.entries(m).forEach(([t,r])=>{let s=a.find(e=>e.name===t);s?.type==="boolean"?e[t]=!0===r:(s?.type==="number"||s?.type==="date")&&""===r?e[t]=null:e[t]=r}),j&&s?await tn(s,e):await ts(e),r&&r();let n={};a.forEach(e=>{n[e.name]="boolean"!==e.type&&""}),x(n),t()}catch(e){d(e instanceof Error?e.message:`Failed to ${j?"update":"create"} issue`),console.error(`[v0] Error ${j?"updating":"creating"} issue:`,e)}finally{u(!1)}};return e?o?(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,f.jsx)("div",{className:"bg-background rounded-lg p-8",children:(0,f.jsx)("p",{className:"text-text-secondary",children:"Loading form..."})})}):(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between h-16 border-b border-border px-8 bg-surface-elevated shrink-0",children:[(0,f.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:N}),(0,f.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg transition-colors text-text-secondary hover:text-foreground",children:(0,f.jsx)(e4,{size:20})})]}),(0,f.jsxs)("div",{className:"flex-1 overflow-auto px-8 py-8",children:[i&&(0,f.jsx)("div",{className:"mb-6 p-4 bg-error/10 border border-error rounded-lg text-error",children:i}),(0,f.jsx)("div",{className:"mb-8",children:(0,f.jsx)("div",{className:"grid gap-6",children:a.map((e,t)=>{let r="textarea"===e.type;return(0,f.jsx)("div",{className:r?"col-span-full":"",children:"boolean"===e.type?(0,f.jsxs)("div",{className:"flex items-center gap-3",children:[(0,f.jsx)("input",{type:"checkbox",id:e.name,checked:!0===m[e.name],onChange:t=>S(e.name,t.target.checked),ref:t=>{t&&(v.current[e.name]=t)},className:"w-4 h-4 rounded border border-border bg-background text-primary focus:ring-2 focus:ring-primary cursor-pointer"}),(0,f.jsxs)("label",{htmlFor:e.name,className:"text-sm font-semibold text-text-secondary uppercase cursor-pointer",children:[e.label||e.name,e.required&&(0,f.jsx)("span",{className:"text-error ml-1",children:"*"})]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:[e.label||e.name,e.required&&(0,f.jsx)("span",{className:"text-error ml-1",children:"*"})]}),"textarea"===e.type?(0,f.jsx)("textarea",{placeholder:e.placeholder||`Enter ${e.label||e.name}...`,value:m[e.name]||"",onChange:t=>S(e.name,t.target.value),onKeyDown:e=>C(e,t),ref:t=>{t&&(v.current[e.name]=t)},className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary h-24 resize-none"}):"select"===e.type?(0,f.jsxs)("select",{value:m[e.name]||"",onChange:t=>S(e.name,t.target.value),onKeyDown:e=>C(e,t),ref:t=>{t&&(v.current[e.name]=t)},className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary",children:[(0,f.jsx)("option",{value:"",children:"Select an option"}),e.options?.map(e=>(0,f.jsx)("option",{value:e,children:e},e))]}):"path"===e.type?(0,f.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,f.jsx)("input",{type:"text",readOnly:!0,value:m[e.name]||"",placeholder:e.placeholder||`Select folder for ${e.label||e.name}...`,className:"flex-1 px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none"}),!m[e.name]&&(0,f.jsx)("button",{type:"button",onClick:()=>E(e.name),className:"px-3 py-2 bg-secondary text-foreground rounded-lg hover:bg-secondary-hover transition-colors",children:"Select Folder"}),m[e.name]&&(0,f.jsx)("button",{type:"button",onClick:()=>S(e.name,""),className:"px-2 py-2 text-text-secondary hover:bg-secondary rounded-lg","aria-label":`Clear ${e.label||e.name}`,children:"Clear"})]}):(0,f.jsx)("input",{type:e.type,placeholder:e.placeholder||`Enter ${e.label||e.name}...`,value:m[e.name]||"",onChange:t=>S(e.name,t.target.value),onKeyDown:e=>C(e,t),ref:t=>{t&&(v.current[e.name]=t)},className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary"})]})},e.name)})})}),(0,f.jsx)("input",{ref:p,type:"file",style:{display:"none"},webkitdirectory:"",onChange:e=>{let t=e.target.files,r=b.current;if(b.current=null,!r)return;if(!t||0===t.length)return void S(r,"");let s=t[0],a=s.webkitRelativePath||"";S(r,a.includes("/")?a.split("/")[0]:a||s.name)}})]}),(0,f.jsxs)("div",{className:"h-16 border-t border-border px-8 py-4 flex items-center justify-end gap-4 bg-surface-elevated shrink-0",children:[(0,f.jsx)("button",{onClick:t,disabled:c,className:"px-4 py-2 text-text-secondary hover:bg-secondary rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,f.jsx)("button",{onClick:I,disabled:c,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover transition-colors disabled:opacity-50",children:c?k:w})]})]})}):null}function tb(e,t=[]){let r=[],s=()=>{let t=r.map(e=>h.createContext(e));return function(r){let s=r?.[e]||t;return h.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return s.scopeName=e,[function(t,s){let a=h.createContext(s),n=r.length;r=[...r,s];let o=t=>{let{scope:r,children:s,...o}=t,l=r?.[e]?.[n]||a,i=h.useMemo(()=>o,Object.values(o));return(0,f.jsx)(l.Provider,{value:i,children:s})};return o.displayName=t+"Provider",[o,function(r,o){let l=o?.[e]?.[n]||a,i=h.useContext(l);if(i)return i;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(s,...t)]}function tg(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return t?.(s)}}var ty=globalThis?.document?h.useLayoutEffect:()=>{},tv=h["useId".toString()]||(()=>void 0),tj=0;function tN(e){let[t,r]=h.useState(tv());return ty(()=>{e||r(e=>e??String(tj++))},[e]),e||(t?`radix-${t}`:"")}function tw(e){let t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...e)=>t.current?.(...e),[])}var tk=e.i(74080),tS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=h.forwardRef((e,r)=>{let{asChild:s,...a}=e,n=s?F:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,f.jsx)(n,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),tC="dismissableLayer.update",tE=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tI=h.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:n,onInteractOutside:o,onDismiss:l,...i}=e,d=h.useContext(tE),[c,u]=h.useState(null),m=c?.ownerDocument??globalThis?.document,[,p]=h.useState({}),b=M(t,e=>u(e)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),j=c?g.indexOf(c):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,w=j>=v,k=function(e,t=globalThis?.document){let r=tw(e),s=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{let e=e=>{if(e.target&&!s.current){let s=function(){tA("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})},n={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=s,t.addEventListener("click",a.current,{once:!0})):s()}else t.removeEventListener("click",a.current);s.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}(e=>{let t=e.target,r=[...d.branches].some(e=>e.contains(t));w&&!r&&(a?.(e),o?.(e),e.defaultPrevented||l?.())},m),S=function(e,t=globalThis?.document){let r=tw(e),s=h.useRef(!1);return h.useEffect(()=>{let e=e=>{e.target&&!s.current&&tA("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}(e=>{let t=e.target;![...d.branches].some(e=>e.contains(t))&&(n?.(e),o?.(e),e.defaultPrevented||l?.())},m);return!function(e,t=globalThis?.document){let r=tw(e);h.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{j===d.layers.size-1&&(s?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},m),h.useEffect(()=>{if(c)return r&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(x=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(c)),d.layers.add(c),tD(),()=>{r&&1===d.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=x)}},[c,m,r,d]),h.useEffect(()=>()=>{c&&(d.layers.delete(c),d.layersWithOutsidePointerEventsDisabled.delete(c),tD())},[c,d]),h.useEffect(()=>{let e=()=>p({});return document.addEventListener(tC,e),()=>document.removeEventListener(tC,e)},[]),(0,f.jsx)(tS.div,{...i,ref:b,style:{pointerEvents:N?w?"auto":"none":void 0,...e.style},onFocusCapture:tg(e.onFocusCapture,S.onFocusCapture),onBlurCapture:tg(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:tg(e.onPointerDownCapture,k.onPointerDownCapture)})});function tD(){let e=new CustomEvent(tC);document.dispatchEvent(e)}function tA(e,t,r,{discrete:s}){let a=r.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});if(t&&a.addEventListener(e,t,{once:!0}),s)a&&tk.flushSync(()=>a.dispatchEvent(n));else a.dispatchEvent(n)}tI.displayName="DismissableLayer",h.forwardRef((e,t)=>{let r=h.useContext(tE),s=h.useRef(null),a=M(t,s);return h.useEffect(()=>{let e=s.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,f.jsx)(tS.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var tP="focusScope.autoFocusOnMount",tz="focusScope.autoFocusOnUnmount",tO={bubbles:!1,cancelable:!0},tT=h.forwardRef((e,t)=>{let{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:n,...o}=e,[l,i]=h.useState(null),d=tw(a),c=tw(n),u=h.useRef(null),m=M(t,e=>i(e)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let e=function(e){if(x.paused||!l)return;let t=e.target;l.contains(t)?u.current=t:tF(u.current,{select:!0})},t=function(e){if(x.paused||!l)return;let t=e.relatedTarget;null!==t&&(l.contains(t)||tF(u.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&tF(l)});return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[s,l,x.paused]),h.useEffect(()=>{if(l){tL.add(x);let e=document.activeElement;if(!l.contains(e)){let t=new CustomEvent(tP,tO);l.addEventListener(tP,d),l.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let s of e)if(tF(s,{select:t}),document.activeElement!==r)return}(tR(l).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&tF(l))}return()=>{l.removeEventListener(tP,d),setTimeout(()=>{let t=new CustomEvent(tz,tO);l.addEventListener(tz,c),l.dispatchEvent(t),t.defaultPrevented||tF(e??document.body,{select:!0}),l.removeEventListener(tz,c),tL.remove(x)},0)}}},[l,d,c,x]);let p=h.useCallback(e=>{if(!r&&!s||x.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){var n;let t,s=e.currentTarget,[o,l]=[tM(t=tR(n=s),n),tM(t.reverse(),n)];o&&l?e.shiftKey||a!==l?e.shiftKey&&a===o&&(e.preventDefault(),r&&tF(l,{select:!0})):(e.preventDefault(),r&&tF(o,{select:!0})):a===s&&e.preventDefault()}},[r,s,x.paused]);return(0,f.jsx)(tS.div,{tabIndex:-1,...o,ref:m,onKeyDown:p})});function tR(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tM(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function tF(e,{select:t=!1}={}){if(e&&e.focus){var r;let s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}tT.displayName="FocusScope";var tL=(n=[],{add(e){let t=n[0];e!==t&&t?.pause(),(n=t$(n,e)).unshift(e)},remove(e){n=t$(n,e),n[0]?.resume()}});function t$(e,t){let r=[...e],s=r.indexOf(t);return -1!==s&&r.splice(s,1),r}var t_=h.forwardRef((e,t)=>{let{container:r,...s}=e,[a,n]=h.useState(!1);ty(()=>n(!0),[]);let o=r||a&&globalThis?.document?.body;return o?tk.default.createPortal((0,f.jsx)(tS.div,{...s,ref:t}),o):null});t_.displayName="Portal";var tq=e=>{var t;let r,s,{present:a,children:n}=e,o=function(e){var t,r;let[s,a]=h.useState(),n=h.useRef({}),o=h.useRef(e),l=h.useRef("none"),[i,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},h.useReducer((e,t)=>r[e][t]??e,t));return h.useEffect(()=>{let e=tW(n.current);l.current="mounted"===i?e:"none"},[i]),ty(()=>{let t=n.current,r=o.current;if(r!==e){let s=l.current,a=tW(t);e?d("MOUNT"):"none"===a||t?.display==="none"?d("UNMOUNT"):r&&s!==a?d("ANIMATION_OUT"):d("UNMOUNT"),o.current=e}},[e,d]),ty(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,r=r=>{let a=tW(n.current).includes(r.animationName);if(r.target===s&&a&&(d("ANIMATION_END"),!o.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},a=e=>{e.target===s&&(l.current=tW(n.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:h.useCallback(e=>{e&&(n.current=getComputedStyle(e)),a(e)},[])}}(a),l="function"==typeof n?n({present:o.isPresent}):h.Children.only(n),i=M(o.ref,(t=l,(s=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(s=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof n||o.isPresent?h.cloneElement(l,{ref:i}):null};function tW(e){return e?.animationName||"none"}tq.displayName="Presence";var tK=0;function tU(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tV=function(){return(tV=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function tB(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)0>t.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}var tJ=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),tH="width-before-scroll-bar";function tG(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var tY="undefined"!=typeof window?h.useLayoutEffect:h.useEffect,tZ=new WeakMap,tX=(void 0===o&&(o={}),(void 0===l&&(l=function(e){return e}),i=[],d=!1,c={read:function(){if(d)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:null},useMedium:function(e){var t=l(e,d);return i.push(t),function(){i=i.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(d=!0;i.length;){var t=i;i=[],t.forEach(e)}i={push:function(t){return e(t)},filter:function(){return i}}},assignMedium:function(e){d=!0;var t=[];if(i.length){var r=i;i=[],r.forEach(e),t=i}var s=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(s)};a(),i={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),i}}}}).options=tV({async:!0,ssr:!1},o),c),tQ=function(){},t0=h.forwardRef(function(e,t){var r,s,a,n,o=h.useRef(null),l=h.useState({onScrollCapture:tQ,onWheelCapture:tQ,onTouchMoveCapture:tQ}),i=l[0],d=l[1],c=e.forwardProps,u=e.children,m=e.className,x=e.removeScrollBar,p=e.enabled,f=e.shards,b=e.sideCar,g=e.noRelative,y=e.noIsolation,v=e.inert,j=e.allowPinchZoom,N=e.as,w=e.gapMode,k=tB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=(r=[o,t],s=function(e){return r.forEach(function(t){return tG(t,e)})},(a=(0,h.useState)(function(){return{value:null,callback:s,facade:{get current(){return a.value},set current(value){var e=a.value;e!==value&&(a.value=value,a.callback(value,e))}}}})[0]).callback=s,n=a.facade,tY(function(){var e=tZ.get(n);if(e){var t=new Set(e),s=new Set(r),a=n.current;t.forEach(function(e){s.has(e)||tG(e,null)}),s.forEach(function(e){t.has(e)||tG(e,a)})}tZ.set(n,r)},[r]),n),C=tV(tV({},k),i);return h.createElement(h.Fragment,null,p&&h.createElement(b,{sideCar:tX,removeScrollBar:x,shards:f,noRelative:g,noIsolation:y,inert:v,setCallbacks:d,allowPinchZoom:!!j,lockRef:o,gapMode:w}),c?h.cloneElement(h.Children.only(u),tV(tV({},C),{ref:S})):h.createElement(void 0===N?"div":N,tV({},C,{className:m,ref:S}),u))});t0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},t0.classNames={fullWidth:tH,zeroRight:tJ};var t2=function(e){var t=e.sideCar,r=tB(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw Error("Sidecar medium not found");return h.createElement(s,tV({},r))};t2.isSideCarExport=!0;var t1=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=p||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var s,a;(s=t).styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r)),a=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},t4=function(){var e=t1();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},t3=function(){var e=t4();return function(t){return e(t.styles,t.dynamic),null}},t6={left:0,top:0,right:0,gap:0},t5=function(e){return parseInt(e||"",10)||0},t8=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],s=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[t5(r),t5(s),t5(a)]},t7=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return t6;var t=t8(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},t9=t3(),re="data-scroll-locked",rt=function(e,t,r,s){var a=e.left,n=e.top,o=e.right,l=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(s,";\n   padding-right: ").concat(l,"px ").concat(s,";\n  }\n  body[").concat(re,"] {\n    overflow: hidden ").concat(s,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(s,";"),"margin"===r&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(n,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(s,";\n    "),"padding"===r&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(tJ," {\n    right: ").concat(l,"px ").concat(s,";\n  }\n  \n  .").concat(tH," {\n    margin-right: ").concat(l,"px ").concat(s,";\n  }\n  \n  .").concat(tJ," .").concat(tJ," {\n    right: 0 ").concat(s,";\n  }\n  \n  .").concat(tH," .").concat(tH," {\n    margin-right: 0 ").concat(s,";\n  }\n  \n  body[").concat(re,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},rr=function(){var e=parseInt(document.body.getAttribute(re)||"0",10);return isFinite(e)?e:0},rs=function(){h.useEffect(function(){return document.body.setAttribute(re,(rr()+1).toString()),function(){var e=rr()-1;e<=0?document.body.removeAttribute(re):document.body.setAttribute(re,e.toString())}},[])},ra=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=void 0===s?"margin":s;rs();var n=h.useMemo(function(){return t7(a)},[a]);return h.createElement(t9,{styles:rt(n,!t,a,r?"":"!important")})},rn=!1;if("undefined"!=typeof window)try{var ro=Object.defineProperty({},"passive",{get:function(){return rn=!0,!0}});window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch(e){rn=!1}var rl=!!rn&&{passive:!1},ri=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},rd=function(e,t){var r=t.ownerDocument,s=t;do{if("undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot&&(s=s.host),rc(e,s)){var a=ru(e,s);if(a[1]>a[2])return!0}s=s.parentNode}while(s&&s!==r.body)return!1},rc=function(e,t){return"v"===e?ri(t,"overflowY"):ri(t,"overflowX")},ru=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},rm=function(e,t,r,s,a){var n,o=(n=window.getComputedStyle(t).direction,"h"===e&&"rtl"===n?-1:1),l=o*s,i=r.target,d=t.contains(i),c=!1,u=l>0,m=0,x=0;do{if(!i)break;var p=ru(e,i),f=p[0],h=p[1]-p[2]-o*f;(f||h)&&rc(e,i)&&(m+=h,x+=f);var b=i.parentNode;i=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!d&&i!==document.body||d&&(t.contains(i)||t===i))return u&&(a&&1>Math.abs(m)||!a&&l>m)?c=!0:!u&&(a&&1>Math.abs(x)||!a&&-l>x)&&(c=!0),c},rx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rp=function(e){return[e.deltaX,e.deltaY]},rf=function(e){return e&&"current"in e?e.current:e},rh=0,rb=[];let rg=(u=function(e){var t=h.useRef([]),r=h.useRef([0,0]),s=h.useRef(),a=h.useState(rh++)[0],n=h.useState(t3)[0],o=h.useRef(e);h.useEffect(function(){o.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(function(e,t,r){if(r||2==arguments.length)for(var s,a=0,n=t.length;a<n;a++)!s&&a in t||(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(rf),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var a,n=rx(e),l=r.current,i="deltaX"in e?e.deltaX:l[0]-n[0],d="deltaY"in e?e.deltaY:l[1]-n[1],c=e.target,u=Math.abs(i)>Math.abs(d)?"h":"v";if("touches"in e&&"h"===u&&"range"===c.type)return!1;var m=window.getSelection(),x=m&&m.anchorNode;if(x&&(x===c||x.contains(c)))return!1;var p=rd(u,c);if(!p)return!0;if(p?a=u:(a="v"===u?"h":"v",p=rd(u,c)),!p)return!1;if(!s.current&&"changedTouches"in e&&(i||d)&&(s.current=a),!a)return!0;var f=s.current||a;return rm(f,t,e,"h"===f?i:d,!0)},[]),i=h.useCallback(function(e){if(rb.length&&rb[rb.length-1]===n){var r="deltaY"in e?rp(e):rx(e),s=t.current.filter(function(t){var s;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(s=t.delta,s[0]===r[0]&&s[1]===r[1])})[0];if(s&&s.should){e.cancelable&&e.preventDefault();return}if(!s){var a=(o.current.shards||[]).map(rf).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?l(e,a[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=h.useCallback(function(e,r,s,a){var n={name:e,delta:r,target:s,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(s)};t.current.push(n),setTimeout(function(){t.current=t.current.filter(function(e){return e!==n})},1)},[]),c=h.useCallback(function(e){r.current=rx(e),s.current=void 0},[]),u=h.useCallback(function(t){d(t.type,rp(t),t.target,l(t,e.lockRef.current))},[]),m=h.useCallback(function(t){d(t.type,rx(t),t.target,l(t,e.lockRef.current))},[]);h.useEffect(function(){return rb.push(n),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",i,rl),document.addEventListener("touchmove",i,rl),document.addEventListener("touchstart",c,rl),function(){rb=rb.filter(function(e){return e!==n}),document.removeEventListener("wheel",i,rl),document.removeEventListener("touchmove",i,rl),document.removeEventListener("touchstart",c,rl)}},[]);var x=e.removeScrollBar,p=e.inert;return h.createElement(h.Fragment,null,p?h.createElement(n,{styles:"\n  .block-interactivity-".concat(a," {pointer-events: none;}\n  .allow-interactivity-").concat(a," {pointer-events: all;}\n")}):null,x?h.createElement(ra,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},tX.useMedium(u),t2);var ry=h.forwardRef(function(e,t){return h.createElement(t0,tV({},e,{ref:t,sideCar:rg}))});ry.classNames=t0.classNames;var rv=new WeakMap,rj=new WeakMap,rN={},rw=0,rk=function(e){return e&&(e.host||rk(e.parentNode))},rS=function(e,t,r,s){var a=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=rk(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});rN[r]||(rN[r]=new WeakMap);var n=rN[r],o=[],l=new Set,i=new Set(a),d=function(e){!e||l.has(e)||(l.add(e),d(e.parentNode))};a.forEach(d);var c=function(e){!e||i.has(e)||Array.prototype.forEach.call(e.children,function(e){if(l.has(e))c(e);else try{var t=e.getAttribute(s),a=null!==t&&"false"!==t,i=(rv.get(e)||0)+1,d=(n.get(e)||0)+1;rv.set(e,i),n.set(e,d),o.push(e),1===i&&a&&rj.set(e,!0),1===d&&e.setAttribute(r,"true"),a||e.setAttribute(s,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),l.clear(),rw++,function(){o.forEach(function(e){var t=rv.get(e)-1,a=n.get(e)-1;rv.set(e,t),n.set(e,a),t||(rj.has(e)||e.removeAttribute(s),rj.delete(e)),a||e.removeAttribute(r)}),--rw||(rv=new WeakMap,rv=new WeakMap,rj=new WeakMap,rN={})}},rC=function(e,t,r){void 0===r&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),rS(s,a,r,"aria-hidden")):function(){return null}},rE="Dialog",[rI,rD]=tb(rE),[rA,rP]=rI(rE),rz=e=>{let{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:n,modal:o=!0}=e,l=h.useRef(null),i=h.useRef(null),[d=!1,c]=function({prop:e,defaultProp:t,onChange:r=()=>{}}){let[s,a]=function({defaultProp:e,onChange:t}){let r=h.useState(e),[s]=r,a=h.useRef(s),n=tw(t);return h.useEffect(()=>{a.current!==s&&(n(s),a.current=s)},[s,a,n]),r}({defaultProp:t,onChange:r}),n=void 0!==e,o=n?e:s,l=tw(r);return[o,h.useCallback(t=>{if(n){let r="function"==typeof t?t(e):t;r!==e&&l(r)}else a(t)},[n,e,a,l])]}({prop:s,defaultProp:a,onChange:n});return(0,f.jsx)(rA,{scope:t,triggerRef:l,contentRef:i,contentId:tN(),titleId:tN(),descriptionId:tN(),open:d,onOpenChange:c,onOpenToggle:h.useCallback(()=>c(e=>!e),[c]),modal:o,children:r})};rz.displayName=rE;var rO="DialogTrigger",rT=h.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=rP(rO,r),n=M(t,a.triggerRef);return(0,f.jsx)(tS.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rQ(a.open),...s,ref:n,onClick:tg(e.onClick,a.onOpenToggle)})});rT.displayName=rO;var rR="DialogPortal",[rM,rF]=rI(rR,{forceMount:void 0}),rL=e=>{let{__scopeDialog:t,forceMount:r,children:s,container:a}=e,n=rP(rR,t);return(0,f.jsx)(rM,{scope:t,forceMount:r,children:h.Children.map(s,e=>(0,f.jsx)(tq,{present:r||n.open,children:(0,f.jsx)(t_,{asChild:!0,container:a,children:e})}))})};rL.displayName=rR;var r$="DialogOverlay",r_=h.forwardRef((e,t)=>{let r=rF(r$,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,n=rP(r$,e.__scopeDialog);return n.modal?(0,f.jsx)(tq,{present:s||n.open,children:(0,f.jsx)(rq,{...a,ref:t})}):null});r_.displayName=r$;var rq=h.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=rP(r$,r);return(0,f.jsx)(ry,{as:F,allowPinchZoom:!0,shards:[a.contentRef],children:(0,f.jsx)(tS.div,{"data-state":rQ(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),rW="DialogContent",rK=h.forwardRef((e,t)=>{let r=rF(rW,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,n=rP(rW,e.__scopeDialog);return(0,f.jsx)(tq,{present:s||n.open,children:n.modal?(0,f.jsx)(rU,{...a,ref:t}):(0,f.jsx)(rV,{...a,ref:t})})});rK.displayName=rW;var rU=h.forwardRef((e,t)=>{let r=rP(rW,e.__scopeDialog),s=h.useRef(null),a=M(t,r.contentRef,s);return h.useEffect(()=>{let e=s.current;if(e)return rC(e)},[]),(0,f.jsx)(rB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tg(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:tg(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:tg(e.onFocusOutside,e=>e.preventDefault())})}),rV=h.forwardRef((e,t)=>{let r=rP(rW,e.__scopeDialog),s=h.useRef(!1),a=h.useRef(!1);return(0,f.jsx)(rB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),rB=h.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:n,...o}=e,l=rP(rW,r),i=h.useRef(null),d=M(t,i);return h.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tU()),document.body.insertAdjacentElement("beforeend",e[1]??tU()),tK++,()=>{1===tK&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tK--}},[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tT,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:n,children:(0,f.jsx)(tI,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rQ(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r4,{titleId:l.titleId}),(0,f.jsx)(r3,{contentRef:i,descriptionId:l.descriptionId})]})]})}),rJ="DialogTitle",rH=h.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=rP(rJ,r);return(0,f.jsx)(tS.h2,{id:a.titleId,...s,ref:t})});rH.displayName=rJ;var rG="DialogDescription",rY=h.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=rP(rG,r);return(0,f.jsx)(tS.p,{id:a.descriptionId,...s,ref:t})});rY.displayName=rG;var rZ="DialogClose",rX=h.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=rP(rZ,r);return(0,f.jsx)(tS.button,{type:"button",...s,ref:t,onClick:tg(e.onClick,()=>a.onOpenChange(!1))})});function rQ(e){return e?"open":"closed"}rX.displayName=rZ;var r0="DialogTitleWarning",[r2,r1]=(m={contentName:rW,titleName:rJ,docsSlug:"dialog"},s=h.createContext(m),(a=e=>{let{children:t,...r}=e,a=h.useMemo(()=>r,Object.values(r));return(0,f.jsx)(s.Provider,{value:a,children:t})}).displayName=r0+"Provider",[a,function(e){let t=h.useContext(s);if(t)return t;if(void 0!==m)return m;throw Error(`\`${e}\` must be used within \`${r0}\``)}]),r4=({titleId:e})=>{let t=r1(r0),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},r3=({contentRef:e,descriptionId:t})=>{let r=r1("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return h.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},r6="AlertDialog",[r5,r8]=tb(r6,[rD]),r7=rD(),r9=e=>{let{__scopeAlertDialog:t,...r}=e,s=r7(t);return(0,f.jsx)(rz,{...s,...r,modal:!0})};r9.displayName=r6,h.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=r7(r);return(0,f.jsx)(rT,{...a,...s,ref:t})}).displayName="AlertDialogTrigger";var se=e=>{let{__scopeAlertDialog:t,...r}=e,s=r7(t);return(0,f.jsx)(rL,{...s,...r})};se.displayName="AlertDialogPortal";var st=h.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=r7(r);return(0,f.jsx)(r_,{...a,...s,ref:t})});st.displayName="AlertDialogOverlay";var sr="AlertDialogContent",[ss,sa]=r5(sr),sn=h.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:s,...a}=e,n=r7(r),o=h.useRef(null),l=M(t,o),i=h.useRef(null);return(0,f.jsx)(r2,{contentName:sr,titleName:so,docsSlug:"alert-dialog",children:(0,f.jsx)(ss,{scope:r,cancelRef:i,children:(0,f.jsxs)(rK,{role:"alertdialog",...n,...a,ref:l,onOpenAutoFocus:tg(a.onOpenAutoFocus,e=>{e.preventDefault(),i.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,f.jsx)($,{children:s}),(0,f.jsx)(sx,{contentRef:o})]})})})});sn.displayName=sr;var so="AlertDialogTitle",sl=h.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=r7(r);return(0,f.jsx)(rH,{...a,...s,ref:t})});sl.displayName=so;var si="AlertDialogDescription",sd=h.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=r7(r);return(0,f.jsx)(rY,{...a,...s,ref:t})});sd.displayName=si;var sc=h.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=r7(r);return(0,f.jsx)(rX,{...a,...s,ref:t})});sc.displayName="AlertDialogAction";var su="AlertDialogCancel",sm=h.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=sa(su,r),n=r7(r),o=M(t,a);return(0,f.jsx)(rX,{...n,...s,ref:o})});sm.displayName=su;var sx=({contentRef:e})=>{let t=`\`${sr}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sr}\` by passing a \`${si}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sr}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};function sp({...e}){return(0,f.jsx)(r9,{"data-slot":"alert-dialog",...e})}function sf({...e}){return(0,f.jsx)(se,{"data-slot":"alert-dialog-portal",...e})}function sh({className:e,...t}){return(0,f.jsx)(st,{"data-slot":"alert-dialog-overlay",className:eG("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function sb({className:e,...t}){return(0,f.jsxs)(sf,{children:[(0,f.jsx)(sh,{}),(0,f.jsx)(sn,{"data-slot":"alert-dialog-content",className:eG("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function sg({className:e,...t}){return(0,f.jsx)("div",{"data-slot":"alert-dialog-header",className:eG("flex flex-col gap-2 text-center sm:text-left",e),...t})}function sy({className:e,...t}){return(0,f.jsx)(sl,{"data-slot":"alert-dialog-title",className:eG("text-lg font-semibold",e),...t})}function sv({className:e,...t}){return(0,f.jsx)(sd,{"data-slot":"alert-dialog-description",className:eG("text-muted-foreground text-sm",e),...t})}function sj({className:e,...t}){return(0,f.jsx)(sc,{className:eG(eY(),e),...t})}function sN({className:e,...t}){return(0,f.jsx)(sm,{className:eG(eY({variant:"outline"}),e),...t})}function sw({issueId:e,isOpen:t,onClose:r,onIssueUpdated:s}){let[a,n]=(0,h.useState)(null),[o,l]=(0,h.useState)([]),[i,d]=(0,h.useState)(!0),[c,u]=(0,h.useState)(null),[m,x]=(0,h.useState)(!1),[p,b]=(0,h.useState)(!1),[g,y]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let r=async()=>{try{d(!0);let[t,r]=await Promise.all([e6(),ta(e)]);l(t),n(r)}catch(e){u(e instanceof Error?e.message:"An error occurred"),console.error("[v0] Error fetching data:",e)}finally{d(!1)}};e&&t&&r()},[e,t]);let v=async()=>{try{b(!0),await to(e)?(y(!1),r(),s?.()):u("Failed to delete issue")}catch(e){u(e instanceof Error?e.message:"Failed to delete issue"),console.error("[v0] Error deleting issue:",e)}finally{b(!1)}};if(!t)return null;if(i)return(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,f.jsx)("div",{className:"bg-background rounded-lg p-8",children:(0,f.jsx)("p",{className:"text-text-secondary",children:"Loading issue details..."})})});if(c)return(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-2xl p-8",children:[(0,f.jsx)("p",{className:"text-error",children:c}),(0,f.jsx)("button",{onClick:r,className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover",children:"Close"})]})});if(!a)return(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-2xl p-8",children:[(0,f.jsx)("p",{className:"text-text-secondary",children:"No issue data found"}),(0,f.jsx)("button",{onClick:r,className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover",children:"Close"})]})});if(m)return(0,f.jsx)(th,{issueId:e,isOpen:m,onClose:()=>x(!1),onSubmit:()=>{x(!1),s?.(),r()}});let j=o.reduce((e,t)=>{let r=t.type;return e[r]||(e[r]=[]),e[r].push(t),e},{}),N=a.issue_name||a.name||`Issue #${e}`;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between h-16 border-b border-border px-8 bg-surface-elevated shrink-0",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:"Issue Details"}),(0,f.jsxs)("p",{className:"text-sm text-text-secondary",children:["ID: ",e]})]}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("button",{onClick:()=>x(!0),className:"p-2 hover:bg-secondary rounded-lg transition-colors text-text-secondary hover:text-foreground",title:"Edit issue",children:(0,f.jsx)(tp,{size:20})}),(0,f.jsx)("button",{onClick:()=>y(!0),disabled:p,className:"p-2 hover:bg-error/10 rounded-lg transition-colors text-text-secondary hover:text-error disabled:opacity-50",title:"Delete issue",children:(0,f.jsx)(tf,{size:20})}),(0,f.jsx)("button",{onClick:r,className:"p-2 hover:bg-secondary rounded-lg transition-colors text-text-secondary hover:text-foreground",children:(0,f.jsx)(e4,{size:20})})]})]}),(0,f.jsx)("div",{className:"flex-1 overflow-auto px-8 py-8",children:Object.entries(j).map(([e,t])=>(0,f.jsxs)("div",{className:"mb-8",children:[(0,f.jsxs)("h4",{className:"font-semibold text-foreground mb-6 capitalize",children:[e," Fields"]}),(0,f.jsx)("div",{className:"grid grid-cols-2 gap-6",children:t.map(e=>(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:e.label||e.name}),(0,f.jsx)("p",{className:"mt-2 text-foreground break-words",children:a[e.name]?String(a[e.name]):"-"})]},e.name))})]},e))})]})}),(0,f.jsx)(sp,{open:g,onOpenChange:y,children:(0,f.jsxs)(sb,{children:[(0,f.jsxs)(sg,{children:[(0,f.jsx)(sy,{children:"Delete Issue"}),(0,f.jsxs)(sv,{children:["Are you sure you want to delete ",(0,f.jsxs)("span",{className:"font-semibold text-foreground",children:['"',N,'"']}),"? This action cannot be undone and all associated data will be permanently removed."]})]}),(0,f.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,f.jsx)(sN,{disabled:p,children:"Cancel"}),(0,f.jsx)(sj,{onClick:v,disabled:p,className:"bg-error hover:bg-error/90",children:p?"Deleting...":"Delete"})]})]})})]})}function sk({isOpen:e,onClose:t,onSubmit:r}){let[s,a]=(0,h.useState)([]),[n,o]=(0,h.useState)(!0),[l,i]=(0,h.useState)(null),[d,c]=(0,h.useState)(!1),[u,m]=(0,h.useState)({}),x=(0,h.useRef)(null),p=(0,h.useRef)(null),[b,g]=(0,h.useState)({address:"",observation:"",notes:""});(0,h.useEffect)(()=>{(async()=>{try{o(!0);let e=(await e6()).sort((e,t)=>(parseInt(e.id||"0")||0)-(parseInt(t.id||"0")||0));a(e);let t={};e.forEach(e=>{t[e.name]=(e.type,"")}),m(t)}catch(e){i(e instanceof Error?e.message:"Failed to load fields"),console.error("[v0] Error loading fields:",e)}finally{o(!1)}})()},[]);let y=(e,t)=>{m(r=>({...r,[e]:t}))},v=async e=>{try{if(window.myappAPI&&"function"==typeof window.myappAPI.selectFolder){let t=await window.myappAPI.selectFolder();t&&y(e,t);return}}catch(e){console.warn("selectFolder via myappAPI failed:",e)}p.current=e,x.current&&(x.current.value="",x.current.click())},j=async()=>{try{c(!0),await ts(u),r&&r();let e={};s.forEach(t=>{e[t.name]=""}),m(e),t()}catch(e){i(e instanceof Error?e.message:"Failed to create issue"),console.error("[v0] Error creating issue:",e)}finally{c(!1)}};return e?n?(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,f.jsx)("div",{className:"bg-background rounded-lg p-8",children:(0,f.jsx)("p",{className:"text-text-secondary",children:"Loading form..."})})}):(console.log("Rendering NewIssueForm with fields:",s),(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between h-16 border-b border-border px-8 bg-surface-elevated shrink-0",children:[(0,f.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:"Create New Issue"}),(0,f.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary rounded-lg transition-colors text-text-secondary hover:text-foreground",children:(0,f.jsx)(e4,{size:20})})]}),(0,f.jsxs)("div",{className:"flex-1 overflow-auto px-8 py-8",children:[l&&(0,f.jsx)("div",{className:"mb-6 p-4 bg-error/10 border border-error rounded-lg text-error",children:l}),(0,f.jsx)("div",{className:"mb-8",children:(0,f.jsx)("div",{className:"grid grid-cols-2 gap-6",children:s.map(e=>(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:[e.label||e.name,e.required&&(0,f.jsx)("span",{className:"text-error ml-1",children:"*"})]}),"textarea"===e.type?(0,f.jsx)("textarea",{placeholder:e.placeholder||`Enter ${e.label||e.name}...`,value:u[e.name]||"",onChange:t=>y(e.name,t.target.value),className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary h-24 resize-none"}):"select"===e.type?(0,f.jsxs)("select",{value:u[e.name]||"",onChange:t=>y(e.name,t.target.value),className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary",children:[(0,f.jsx)("option",{value:"",children:"Select an option"}),e.options?.map(e=>(0,f.jsx)("option",{value:e,children:e},e))]}):"path"===e.type?(0,f.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,f.jsx)("input",{type:"text",readOnly:!0,value:u[e.name]||"",placeholder:e.placeholder||`Select folder for ${e.label||e.name}...`,className:"flex-1 px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none"}),!u[e.name]&&(0,f.jsx)("button",{type:"button",onClick:()=>v(e.name),className:"px-3 py-2 bg-secondary text-foreground rounded-lg hover:bg-secondary-hover transition-colors",children:"Select Folder"}),u[e.name]&&(0,f.jsx)("button",{type:"button",onClick:()=>y(e.name,""),className:"px-2 py-2 text-text-secondary hover:bg-secondary rounded-lg","aria-label":`Clear ${e.label||e.name}`,children:"Clear"})]}):(0,f.jsx)("input",{type:e.type,placeholder:e.placeholder||`Enter ${e.label||e.name}...`,value:u[e.name]||"",onChange:t=>y(e.name,t.target.value),className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary"})]},e.name))})}),(0,f.jsx)("input",{ref:x,type:"file",style:{display:"none"},webkitdirectory:"",onChange:e=>{let t=e.target.files,r=p.current;if(p.current=null,!r)return;if(!t||0===t.length)return void y(r,"");let s=t[0],a=s.webkitRelativePath||"";y(r,a.includes("/")?a.split("/")[0]:a||s.name)}})]}),(0,f.jsxs)("div",{className:"h-16 border-t border-border px-8 py-4 flex items-center justify-end gap-4 bg-surface-elevated shrink-0",children:[(0,f.jsx)("button",{onClick:t,disabled:d,className:"px-4 py-2 text-text-secondary hover:bg-secondary rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,f.jsx)("button",{onClick:j,disabled:d,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover transition-colors disabled:opacity-50",children:d?"Creating...":"Create Issue"})]})]})})):null}function sS(){let[e,t]=(0,h.useState)(null),[r,s]=(0,h.useState)(!1),[a,n]=(0,h.useState)("date"),[o,l]=(0,h.useState)(!1),[i,d]=(0,h.useState)(0),c=async()=>{l(!1),d(e=>e+1)},[u,m]=(0,h.useState)(!1);return(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsxs)("div",{className:"h-16 border-b border-border flex items-center justify-between px-8",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Issues"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Manage and track all project issues"})]}),(0,f.jsxs)("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover transition-colors",children:[(0,f.jsx)(O,{size:18}),(0,f.jsx)("span",{children:"New Issue"})]})]}),(0,f.jsxs)("div",{className:"h-16 border-b border-border px-6 py-4 flex items-center gap-4",children:[(0,f.jsxs)("button",{onClick:()=>m(e=>!e),className:"flex items-center gap-2 px-3 py-2 text-sm text-text-secondary hover:bg-secondary rounded-lg",children:[(0,f.jsx)("span",{children:"Filter"}),(0,f.jsx)(I,{size:16})]}),(0,f.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 text-sm text-text-secondary hover:bg-secondary rounded-lg",children:[(0,f.jsx)(e1,{size:16}),(0,f.jsxs)("span",{children:["Sort: ",a]})]})]}),(0,f.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,f.jsx)(tx,{onSelectIssue:e=>{t(e),s(!0)},showFilters:u},i)}),r&&e&&(0,f.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-auto flex flex-col",children:[(0,f.jsxs)("div",{className:"h-16 border-b border-border px-8 py-4 flex items-center justify-between bg-surface-elevated sticky top-0",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:"Issue Details"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:e.id})]}),(0,f.jsx)("button",{onClick:()=>s(!1),className:"p-2 hover:bg-secondary rounded-lg transition-colors text-text-secondary hover:text-foreground",children:(0,f.jsx)(e4,{size:20})})]}),(0,f.jsx)("div",{className:"flex-1 overflow-auto",children:(0,f.jsx)(sw,{issueId:e.id,isOpen:r,onClose:()=>s(!1),onIssueUpdated:()=>d(e=>e+1)})})]})}),(0,f.jsx)(sk,{isOpen:o,onClose:()=>l(!1),onSubmit:c})]})}let sC=[{id:"TSK-001",title:"Survey pothole dimensions",status:"in-progress",priority:"high",dueDate:"Today",assignee:"John Smith",relatedIssue:"ISS-001",tags:["inspection","main-st"]},{id:"TSK-002",title:"Document storm drainage concerns",status:"todo",priority:"high",dueDate:"Tomorrow",assignee:"Sarah Johnson",relatedIssue:"ISS-002",tags:["documentation","infrastructure"]},{id:"TSK-003",title:"Schedule traffic signal repair",status:"completed",priority:"medium",dueDate:"3 days ago",assignee:"Mike Chen",relatedIssue:"ISS-003",tags:["scheduling","safety"]},{id:"TSK-004",title:"Measure sidewalk crack depth",status:"todo",priority:"medium",dueDate:"Next week",assignee:"Emma Davis",relatedIssue:"ISS-004",tags:["measurement","maintenance"]},{id:"TSK-005",title:"Plan vegetation removal",status:"in-progress",priority:"low",dueDate:"Next week",assignee:"John Smith",relatedIssue:"ISS-005",tags:["planning","maintenance"]}],sE={todo:"bg-secondary text-text-secondary","in-progress":"bg-primary/10 text-primary",completed:"bg-success/10 text-success"},sI={low:"text-text-tertiary",medium:"text-yellow-600",high:"text-error"};function sD({selectedId:e,onSelect:t}){return(0,f.jsx)("div",{className:"flex-1 overflow-auto",children:(0,f.jsxs)("table",{className:"w-full text-sm",children:[(0,f.jsx)("thead",{className:"sticky top-0 bg-surface-elevated border-b border-border",children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary",children:"ID"}),(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary",children:"Title"}),(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary",children:"Status"}),(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary",children:"Priority"}),(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary",children:"Due"})]})}),(0,f.jsx)("tbody",{className:"divide-y divide-border",children:sC.map(r=>(0,f.jsxs)("tr",{onClick:()=>t(r.id),className:`cursor-pointer transition-colors ${e===r.id?"bg-primary-light":"hover:bg-secondary"}`,children:[(0,f.jsx)("td",{className:"px-6 py-4 font-mono text-xs text-primary",children:r.id}),(0,f.jsx)("td",{className:"px-6 py-4 font-medium text-foreground",children:r.title}),(0,f.jsx)("td",{className:"px-6 py-4",children:(0,f.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${sE[r.status]}`,children:"in-progress"===r.status?"In Progress":r.status.charAt(0).toUpperCase()+r.status.slice(1)})}),(0,f.jsx)("td",{className:"px-6 py-4",children:(0,f.jsx)("span",{className:`text-xs font-semibold ${sI[r.priority]}`,children:r.priority.charAt(0).toUpperCase()+r.priority.slice(1)})}),(0,f.jsx)("td",{className:"px-6 py-4 text-text-secondary text-xs",children:r.dueDate})]},r.id))})]})})}let sA=["todo","in-progress","completed"],sP=["low","medium","high"];function sz({taskId:e}){let t,r=(t={"TSK-001":{id:"TSK-001",title:"Survey pothole dimensions",description:"Conduct field survey to measure and document the pothole dimensions on Main Street.",status:"in-progress",priority:"high",dueDate:"2026-01-08",assignee:"John Smith",relatedIssue:"ISS-001",tags:["inspection","main-st"],createdDate:"2026-01-05",subtasks:[{id:1,title:"Measure length and width",completed:!0},{id:2,title:"Document depth",completed:!0},{id:3,title:"Take reference photos",completed:!1}]},"TSK-002":{id:"TSK-002",title:"Document storm drainage concerns",description:"Document all observations and concerns related to the storm drainage system.",status:"todo",priority:"high",dueDate:"2026-01-09",assignee:"Sarah Johnson",relatedIssue:"ISS-002",tags:["documentation","infrastructure"],createdDate:"2026-01-06",subtasks:[{id:1,title:"Inspect drain inlet",completed:!1},{id:2,title:"Document overflow areas",completed:!1}]},"TSK-003":{id:"TSK-003",title:"Schedule traffic signal repair",description:"Coordinate with maintenance team to schedule and complete the traffic signal repair.",status:"completed",priority:"medium",dueDate:"2026-01-05",assignee:"Mike Chen",relatedIssue:"ISS-003",tags:["scheduling","safety"],createdDate:"2026-01-02",subtasks:[{id:1,title:"Contact repair contractor",completed:!0},{id:2,title:"Schedule repair date",completed:!0},{id:3,title:"Arrange traffic control",completed:!0}]},"TSK-004":{id:"TSK-004",title:"Measure sidewalk crack depth",description:"Use appropriate tools to measure and record the depth of the sidewalk crack.",status:"todo",priority:"medium",dueDate:"2026-01-15",assignee:"Emma Davis",relatedIssue:"ISS-004",tags:["measurement","maintenance"],createdDate:"2026-01-07",subtasks:[{id:1,title:"Gather measurement tools",completed:!1},{id:2,title:"Perform measurements",completed:!1}]},"TSK-005":{id:"TSK-005",title:"Plan vegetation removal",description:"Develop a comprehensive plan for safe vegetation removal and area cleanup.",status:"in-progress",priority:"low",dueDate:"2026-01-15",assignee:"John Smith",relatedIssue:"ISS-005",tags:["planning","maintenance"],createdDate:"2026-01-04",subtasks:[{id:1,title:"Assess vegetation extent",completed:!0},{id:2,title:"Plan removal method",completed:!1}]}})[e]||t["TSK-001"],[s,a]=(0,h.useState)(!1),[n,o]=(0,h.useState)(r),[l,i]=(0,h.useState)(""),d=()=>{l.trim()&&(o({...n,subtasks:[...n.subtasks,{id:Math.max(...n.subtasks.map(e=>e.id),0)+1,title:l,completed:!1}]}),i(""))};return(0,f.jsx)("div",{className:"h-full overflow-auto",children:(0,f.jsxs)("div",{className:"p-8 space-y-6",children:[(0,f.jsxs)("div",{className:"flex items-start justify-between",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,f.jsx)("span",{className:"text-sm font-mono text-primary",children:n.id}),(0,f.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"todo"===n.status?"bg-secondary text-text-secondary":"in-progress"===n.status?"bg-primary/10 text-primary":"bg-success/10 text-success"}`,children:"in-progress"===n.status?"In Progress":n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),s?(0,f.jsx)("input",{type:"text",value:n.title,onChange:e=>o({...n,title:e.target.value}),className:"text-3xl font-bold text-foreground bg-secondary rounded px-3 py-2 w-full"}):(0,f.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:n.title})]}),(0,f.jsx)("div",{className:"flex items-center gap-2",children:s?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{onClick:()=>{a(!1)},className:"px-4 py-2 bg-success text-white rounded-lg hover:bg-success/90 text-sm font-medium transition-colors",children:"Save"}),(0,f.jsx)("button",{onClick:()=>{o(r),a(!1)},className:"px-4 py-2 bg-secondary text-foreground rounded-lg hover:bg-secondary/80 text-sm font-medium transition-colors",children:"Cancel"})]}):(0,f.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 text-primary hover:bg-primary/10 rounded-lg transition-colors text-sm",children:[(0,f.jsx)(tp,{size:16}),"Edit"]})})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Description"}),s?(0,f.jsx)("textarea",{value:n.description,onChange:e=>o({...n,description:e.target.value}),className:"w-full p-3 bg-secondary border border-border rounded-lg text-foreground text-sm resize-none h-24"}):(0,f.jsx)("p",{className:"text-text-secondary",children:n.description})]}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-semibold text-text-secondary mb-2 block",children:"Status"}),s?(0,f.jsx)("select",{value:n.status,onChange:e=>o({...n,status:e.target.value}),className:"w-full px-3 py-2 bg-secondary border border-border rounded-lg text-foreground text-sm",children:sA.map(e=>(0,f.jsx)("option",{value:e,children:"in-progress"===e?"In Progress":e.charAt(0).toUpperCase()+e.slice(1)},e))}):(0,f.jsx)("p",{className:"text-foreground text-sm",children:"in-progress"===n.status?"In Progress":n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-semibold text-text-secondary mb-2 block",children:"Priority"}),s?(0,f.jsx)("select",{value:n.priority,onChange:e=>o({...n,priority:e.target.value}),className:"w-full px-3 py-2 bg-secondary border border-border rounded-lg text-foreground text-sm",children:sP.map(e=>(0,f.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}):(0,f.jsx)("p",{className:`text-sm font-semibold ${"low"===n.priority?"text-text-tertiary":"medium"===n.priority?"text-yellow-600":"text-error"}`,children:n.priority.charAt(0).toUpperCase()+n.priority.slice(1)})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-semibold text-text-secondary mb-2 block",children:"Due Date"}),s?(0,f.jsx)("input",{type:"date",value:n.dueDate,onChange:e=>o({...n,dueDate:e.target.value}),className:"w-full px-3 py-2 bg-secondary border border-border rounded-lg text-foreground text-sm"}):(0,f.jsx)("p",{className:"text-foreground text-sm",children:n.dueDate})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-semibold text-text-secondary mb-2 block",children:"Assignee"}),s?(0,f.jsx)("input",{type:"text",value:n.assignee,onChange:e=>o({...n,assignee:e.target.value}),className:"w-full px-3 py-2 bg-secondary border border-border rounded-lg text-foreground text-sm"}):(0,f.jsx)("p",{className:"text-foreground text-sm",children:n.assignee})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-semibold text-text-secondary mb-2 block",children:"Related Issue"}),s?(0,f.jsx)("input",{type:"text",value:n.relatedIssue||"",onChange:e=>o({...n,relatedIssue:e.target.value}),className:"w-full px-3 py-2 bg-secondary border border-border rounded-lg text-foreground text-sm"}):(0,f.jsx)("p",{className:"text-primary font-mono text-sm",children:n.relatedIssue||"â"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-semibold text-text-secondary mb-2 block",children:"Created"}),(0,f.jsx)("p",{className:"text-text-secondary text-sm",children:n.createdDate})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"font-semibold text-foreground mb-3",children:"Tags"}),(0,f.jsxs)("div",{className:"flex flex-wrap gap-2",children:[n.tags.map((e,t)=>(0,f.jsxs)("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-medium",children:[e,s&&(0,f.jsx)("button",{onClick:()=>o({...n,tags:n.tags.filter((e,r)=>r!==t)}),className:"ml-2 text-primary hover:text-error",children:"Ã"})]},t)),s&&(0,f.jsx)("button",{className:"px-3 py-1 border border-dashed border-primary text-primary rounded-full text-xs font-medium hover:bg-primary/10 transition-colors",children:"+ Add tag"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"font-semibold text-foreground mb-3",children:"Subtasks"}),(0,f.jsx)("div",{className:"space-y-2 mb-4",children:n.subtasks.map(e=>(0,f.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg",children:[(0,f.jsx)("input",{type:"checkbox",checked:e.completed,onChange:t=>{o({...n,subtasks:n.subtasks.map(r=>r.id===e.id?{...r,completed:t.target.checked}:r)})},className:"w-4 h-4 rounded border-border",disabled:!s}),(0,f.jsx)("span",{className:`flex-1 text-sm ${e.completed?"text-text-tertiary line-through":"text-foreground"}`,children:e.title}),s&&(0,f.jsx)("button",{onClick:()=>o({...n,subtasks:n.subtasks.filter(t=>t.id!==e.id)}),className:"text-error hover:bg-error/10 p-1 rounded transition-colors",children:(0,f.jsx)(tf,{size:14})})]},e.id))}),s&&(0,f.jsxs)("div",{className:"flex gap-2",children:[(0,f.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&d(),placeholder:"Add a new subtask...",className:"flex-1 px-3 py-2 bg-secondary border border-border rounded-lg text-foreground text-sm placeholder:text-text-tertiary"}),(0,f.jsx)("button",{onClick:d,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover text-sm transition-colors",children:(0,f.jsx)(O,{size:16})})]})]})]})})}function sO(){let[e,t]=(0,h.useState)("TSK-001"),[r,s]=(0,h.useState)("dueDate");return(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsxs)("div",{className:"h-16 border-b border-border flex items-center justify-between px-8",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Tasks"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Manage project tasks and assignments"})]}),(0,f.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover transition-colors",children:[(0,f.jsx)(O,{size:18}),(0,f.jsx)("span",{children:"New Task"})]})]}),(0,f.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,f.jsxs)("div",{className:"w-1/3 border-r border-border flex flex-col overflow-hidden",children:[(0,f.jsxs)("div",{className:"h-16 border-b border-border px-6 py-4 flex items-center gap-4",children:[(0,f.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 text-sm text-text-secondary hover:bg-secondary rounded-lg",children:[(0,f.jsx)("span",{children:"Filter"}),(0,f.jsx)(I,{size:16})]}),(0,f.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 text-sm text-text-secondary hover:bg-secondary rounded-lg",children:[(0,f.jsx)(e1,{size:16}),(0,f.jsxs)("span",{children:["Sort: ",r]})]})]}),(0,f.jsx)(sD,{selectedId:e,onSelect:t})]}),(0,f.jsx)("div",{className:"flex-1 overflow-auto",children:(0,f.jsx)(sz,{taskId:e})})]})]})}let sT=[{id:"photo-1",name:"Main St Damage - Overview",linkedIssue:"ISS-001",address:"123 Main St",dateTaken:"Jan 3, 2024",photographer:"John Smith"},{id:"photo-2",name:"Main St Damage - Detail",linkedIssue:"ISS-001",address:"123 Main St",dateTaken:"Jan 3, 2024",photographer:"John Smith"},{id:"photo-3",name:"Storm Drain #1",linkedIssue:"ISS-002",address:"456 Oak Ave",dateTaken:"Jan 2, 2024",photographer:"Jane Doe"},{id:"photo-4",name:"Storm Drain #2",linkedIssue:"ISS-002",address:"458 Oak Ave",dateTaken:"Jan 2, 2024",photographer:"Jane Doe"}];function sR({selectedId:e,onSelect:t,filterType:r}){return(0,f.jsx)("div",{className:"flex-1 overflow-auto",children:(0,f.jsxs)("table",{className:"w-full text-sm",children:[(0,f.jsx)("thead",{className:"sticky top-0 bg-surface-elevated border-b border-border",children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary",children:"Name"}),(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary",children:"Issue"}),(0,f.jsx)("th",{className:"px-6 py-3 text-left font-semibold text-text-secondary",children:"Date"})]})}),(0,f.jsx)("tbody",{className:"divide-y divide-border",children:sT.map(r=>(0,f.jsxs)("tr",{onClick:()=>t(r.id),className:`cursor-pointer transition-colors ${e===r.id?"bg-primary-light":"hover:bg-secondary"}`,children:[(0,f.jsx)("td",{className:"px-6 py-4 font-medium text-foreground",children:r.name}),(0,f.jsx)("td",{className:"px-6 py-4 text-xs font-mono text-primary",children:r.linkedIssue}),(0,f.jsx)("td",{className:"px-6 py-4 text-text-secondary text-xs",children:r.dateTaken})]},r.id))})]})})}function sM({photoId:e}){let[t,r]=(0,h.useState)(!0),[s,a]=(0,h.useState)(!1);return(0,f.jsxs)("div",{className:"flex flex-col h-full overflow-auto",children:[(0,f.jsx)("div",{className:"h-16 border-b border-border px-8 py-4 flex items-center bg-surface-elevated",children:(0,f.jsx)("h3",{className:"font-semibold text-lg text-foreground",children:"Main St Damage - Overview"})}),(0,f.jsxs)("div",{className:"flex-1 flex flex-col p-8 overflow-auto",children:[(0,f.jsxs)("div",{className:"mb-8",children:[(0,f.jsx)("div",{className:"w-full bg-gray-200 rounded-lg overflow-hidden aspect-video mb-4",children:(0,f.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center",children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("div",{className:"text-6xl mb-2",children:"ð¸"}),(0,f.jsx)("p",{className:"text-gray-600",children:"Photo Preview"})]})})}),(0,f.jsx)("p",{className:"text-xs text-text-tertiary",children:"Preview of selected photo asset"})]}),(0,f.jsxs)("div",{className:"bg-secondary rounded-lg p-6 mb-8",children:[(0,f.jsx)("h4",{className:"font-semibold text-foreground mb-6",children:"Metadata"}),(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Linked Issue"}),(0,f.jsx)("input",{type:"text",value:"ISS-001",className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",readOnly:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Address"}),(0,f.jsx)("input",{type:"text",value:"123 Main St",className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",readOnly:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Observation"}),(0,f.jsx)("input",{type:"text",value:"Overall view of pothole damage affecting traffic lane",className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",readOnly:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Notes"}),(0,f.jsx)("textarea",{value:"Taken during midday, shows clear visibility of damage area",className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground h-20 resize-none",readOnly:!0})]})]})]}),(0,f.jsxs)("div",{className:"bg-secondary rounded-lg p-6 space-y-4",children:[(0,f.jsx)("h4",{className:"font-semibold text-foreground mb-6",children:"Include in Output"}),(0,f.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,f.jsx)("input",{type:"checkbox",checked:t,onChange:e=>r(e.target.checked),className:"w-5 h-5 rounded border-2 border-primary accent-primary cursor-pointer"}),(0,f.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Include in Report"})]}),(0,f.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,f.jsx)("input",{type:"checkbox",checked:s,onChange:e=>a(e.target.checked),className:"w-5 h-5 rounded border-2 border-primary accent-primary cursor-pointer"}),(0,f.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Include in Presentation"})]})]})]})]})}function sF(){let[e,t]=(0,h.useState)("photo-1"),[r,s]=(0,h.useState)("issues");return(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsx)("div",{className:"h-16 border-b border-border flex items-center justify-between px-8",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Photos"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Manage photo assets and metadata"})]})}),(0,f.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,f.jsxs)("div",{className:"w-1/3 border-r border-border flex flex-col overflow-hidden",children:[(0,f.jsxs)("div",{className:"h-16 border-b border-border px-6 py-4 flex items-center gap-2",children:[(0,f.jsx)("span",{className:"text-sm font-medium text-text-secondary",children:"Filter by:"}),(0,f.jsxs)("select",{value:r,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-border rounded-lg text-sm bg-background text-foreground cursor-pointer",children:[(0,f.jsx)("option",{value:"issues",children:"Issues"}),(0,f.jsx)("option",{value:"addresses",children:"Addresses"}),(0,f.jsx)("option",{value:"custom",children:"Custom Groups"})]})]}),(0,f.jsx)(sR,{selectedId:e,onSelect:t,filterType:r})]}),(0,f.jsx)("div",{className:"flex-1 flex flex-col",children:(0,f.jsx)(sM,{photoId:e})})]})]})}function sL(){let[e,t]=(0,h.useState)({issueType:"",address:"",keywords:"",dateRange:"",photoIncluded:!1,inReport:!1,inPresentation:!1});return(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsx)("div",{className:"h-16 border-b border-border flex items-center justify-between px-8",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Search & Filters"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Find issues, photos, and addresses with advanced queries"})]})}),(0,f.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,f.jsxs)("div",{className:"w-1/3 border-r border-border overflow-auto p-8",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,f.jsx)("h3",{className:"font-semibold text-foreground",children:"Build Your Search"}),(0,f.jsxs)("button",{className:"flex items-center gap-2 px-3 py-1 text-sm text-primary hover:bg-primary-light rounded-lg",children:[(0,f.jsx)(O,{size:16}),(0,f.jsx)("span",{children:"Save Search"})]})]}),(0,f.jsxs)("div",{className:"space-y-6",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Issue Type"}),(0,f.jsxs)("select",{className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[(0,f.jsx)("option",{value:"",children:"All Types"}),(0,f.jsx)("option",{value:"road",children:"Road Damage"}),(0,f.jsx)("option",{value:"infra",children:"Infrastructure"}),(0,f.jsx)("option",{value:"safety",children:"Safety"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Address"}),(0,f.jsx)("input",{type:"text",placeholder:"Search address...",className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Keywords"}),(0,f.jsx)("input",{type:"text",placeholder:"Search observations and notes...",className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Date Range"}),(0,f.jsxs)("select",{className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[(0,f.jsx)("option",{value:"",children:"Any Date"}),(0,f.jsx)("option",{value:"week",children:"Last Week"}),(0,f.jsx)("option",{value:"month",children:"Last Month"}),(0,f.jsx)("option",{value:"quarter",children:"Last Quarter"})]})]}),(0,f.jsxs)("div",{className:"space-y-3 pt-4 border-t border-border",children:[(0,f.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,f.jsx)("input",{type:"checkbox",className:"w-5 h-5 rounded border-2 border-primary accent-primary cursor-pointer"}),(0,f.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Has Photos"})]}),(0,f.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,f.jsx)("input",{type:"checkbox",className:"w-5 h-5 rounded border-2 border-primary accent-primary cursor-pointer"}),(0,f.jsx)("span",{className:"text-sm font-medium text-foreground",children:"In Reports"})]}),(0,f.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,f.jsx)("input",{type:"checkbox",className:"w-5 h-5 rounded border-2 border-primary accent-primary cursor-pointer"}),(0,f.jsx)("span",{className:"text-sm font-medium text-foreground",children:"In Presentations"})]})]})]})]}),(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsx)("div",{className:"h-16 border-b border-border px-8 py-4 flex items-center bg-surface-elevated",children:(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Found 12 results matching your criteria"})}),(0,f.jsx)("div",{className:"flex-1 overflow-auto",children:(0,f.jsx)("div",{className:"divide-y divide-border",children:[{type:"issue",name:"Pothole on Main St",matches:"ISS-001, 2 addresses, 4 photos"},{type:"photo",name:"Main St Damage - Overview",matches:"Linked to ISS-001, in reports"},{type:"address",name:"123 Main St",matches:"Part of ISS-001, 3 photos attached"}].map((e,t)=>(0,f.jsxs)("div",{className:"p-6 border-b border-border hover:bg-secondary transition-colors cursor-pointer",children:[(0,f.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:e.name}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:e.matches}),(0,f.jsx)("span",{className:"inline-block mt-3 px-2 py-1 bg-primary-light text-primary text-xs font-medium rounded",children:e.type})]},t))})})]})]})]})}let s$=v("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),s_=v("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);function sq(){let[e,t]=(0,h.useState)([]),[r,s]=(0,h.useState)([]),[a,n]=(0,h.useState)(!0),[o,l]=(0,h.useState)([]),{filters:i}=tc(),[d,c]=(0,h.useState)({projectName:"Issue Report",businessName:"Organization",includeIssues:!0,photoLayout:"grid-2"});(0,h.useEffect)(()=>{(async()=>{try{n(!0);let e=await e6();t(e),l(e.slice(0,10).map(e=>e.name));let r=await tt();s(r||[])}catch(e){console.error("[v0] Error fetching report data:",e)}finally{n(!1)}})()},[]);let u=e.filter(e=>o.includes(e.name)).sort((e,t)=>(e.index||0)-(t.index||0));return(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsx)("div",{className:"h-16 border-b border-border flex items-center justify-between px-8",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Reports"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Generate professional reports from your issues"})]})}),(0,f.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,f.jsxs)("div",{className:"w-1/3 border-r border-border overflow-auto p-8",children:[(0,f.jsx)("h3",{className:"font-semibold text-foreground mb-8",children:"Report Configuration"}),(0,f.jsxs)("div",{className:"space-y-6",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Project Name"}),(0,f.jsx)("input",{type:"text",value:d.projectName,onChange:e=>c({...d,projectName:e.target.value}),className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Business Name"}),(0,f.jsx)("input",{type:"text",value:d.businessName,onChange:e=>c({...d,businessName:e.target.value}),className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase",children:"Print Date"}),(0,f.jsx)("input",{type:"text",value:new Date().toLocaleDateString(),className:"mt-2 w-full px-4 py-2 border border-border rounded-lg bg-secondary text-text-secondary",disabled:!0})]}),(0,f.jsxs)("div",{className:"pt-4 border-t border-border",children:[(0,f.jsx)("label",{className:"text-xs font-semibold text-text-secondary uppercase mb-3 block",children:"Fields to Include"}),(0,f.jsx)("div",{className:"space-y-2 max-h-40 overflow-auto",children:e.map(e=>(0,f.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-secondary rounded",children:[(0,f.jsx)("input",{type:"checkbox",checked:o.includes(e.name),onChange:()=>{var t;return t=e.name,void l(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"w-4 h-4 rounded border-border"}),(0,f.jsx)("span",{className:"text-sm text-foreground",children:e.label||e.name})]},e.name))})]}),(0,f.jsx)("div",{className:"space-y-3 pt-4 border-t border-border",children:(0,f.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,f.jsx)("input",{type:"checkbox",checked:d.includeIssues,onChange:e=>c({...d,includeIssues:e.target.checked}),className:"w-5 h-5 rounded border-2 border-primary accent-primary cursor-pointer"}),(0,f.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Include Issues"})]})}),(0,f.jsxs)("div",{className:"pt-6 border-t border-border space-y-2",children:[(0,f.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-lg hover:bg-primary-hover transition-colors font-medium",children:[(0,f.jsx)(s$,{size:18}),"Export to PDF"]}),(0,f.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 border border-border rounded-lg hover:bg-secondary transition-colors font-medium",children:[(0,f.jsx)(s_,{size:18}),"Print Preview"]})]})]})]}),(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsxs)("div",{className:"h-16 border-b border-border px-8 py-4 flex items-center bg-surface-elevated",children:[(0,f.jsx)("h3",{className:"font-semibold text-foreground",children:"Report Preview"}),(0,f.jsxs)("span",{className:"ml-auto text-sm text-text-secondary",children:["Total Issues: ",r.length]})]}),(0,f.jsx)("div",{className:"flex-1 overflow-auto p-8 bg-secondary",children:a?(0,f.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,f.jsx)("p",{className:"text-text-secondary",children:"Loading report data..."})}):(0,f.jsxs)("div",{className:"max-w-4xl mx-auto bg-background rounded-lg shadow-lg p-12 min-h-screen",children:[(0,f.jsxs)("div",{className:"text-center mb-12 pb-8 border-b-2 border-border",children:[(0,f.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:d.projectName}),(0,f.jsx)("p",{className:"text-text-secondary mb-4",children:d.businessName}),(0,f.jsxs)("p",{className:"text-sm text-text-tertiary",children:["Generated: ",new Date().toLocaleDateString()]})]}),d.includeIssues&&(0,f.jsxs)("div",{className:"space-y-8",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Issues Summary"}),(0,f.jsx)("div",{className:"bg-secondary rounded-lg p-4 space-y-3",children:(0,f.jsxs)("p",{className:"text-sm",children:[(0,f.jsx)("span",{className:"font-semibold",children:"Total Issues:"})," ",r.length]})})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Issue Details"}),(0,f.jsxs)("div",{className:"space-y-4",children:[r.slice(0,5).map(e=>(0,f.jsxs)("div",{className:"border-l-4 border-primary pl-4 py-2",children:[(0,f.jsxs)("h3",{className:"font-semibold text-foreground",children:["Issue #",e.id]}),(0,f.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-4 text-sm",children:u.map(t=>(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-medium text-text-secondary",children:t.label||t.name}),(0,f.jsx)("p",{className:"text-foreground",children:e[t.name]||"-"})]},`${e.id}-${t.name}`))})]},e.id)),r.length>5&&(0,f.jsxs)("p",{className:"text-sm text-text-secondary italic pt-4",children:["+ ",r.length-5," more issues..."]})]})]})]})]})})]})]})]})}let sW=v("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),sK=v("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function sU({open:e,headers:t,sampleRows:r=[],fields:s,onCancel:a,onConfirm:n}){let[o,l]=(0,h.useState)({}),[i,d]=(0,h.useState)(null),[c,u]=(0,h.useState)([]),[m,x]=(0,h.useState)(!1);return((0,h.useEffect)(()=>{if(!e)return;let r={},a=(e="")=>String(e).toLowerCase().replace(/^[^a-z0-9]+|[^a-z0-9]+$/g,"").replace(/[^a-z0-9]+/g," ").trim(),n=s.map(e=>({name:e.name,normName:a(e.name),normLabel:a(e.label||e.name),label:(e.label||e.name).toLowerCase()}));for(let e of t){let t=a(String(e)),s=n.find(e=>e.normName===t||e.normLabel===t);s?r[e]=s.name:r[e]=""}l(r),d(null);try{let e=localStorage.getItem("import:mappings");e&&u(JSON.parse(e))}catch(e){console.warn("failed to load import presets",e)}},[e,t,s]),e)?(0,f.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:[(0,f.jsxs)("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-3xl p-6",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Map spreadsheet columns to fields"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary mb-4",children:"Choose which spreadsheet columns should populate which fields in the app."}),(0,f.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("label",{className:"text-sm text-text-secondary",children:"Presets"}),(0,f.jsxs)("select",{value:"",onChange:e=>{let r=e.target.value;r&&(e=>{let r=c.find(t=>t.id===e);if(!r)return;let s={};for(let e of t)r.mapping[e]?s[e]=r.mapping[e]:s[e]=o[e]??"";l(s)})(r),e.currentTarget.value=""},className:"px-2 py-1 border border-border rounded-lg bg-background text-foreground text-sm",children:[(0,f.jsx)("option",{value:"",children:"Load preset..."}),c.map(e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,f.jsx)("button",{onClick:()=>x(!0),className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded hover:bg-primary/30 transition-colors",children:"Save preset"})]}),(0,f.jsx)("div",{children:c.length>0&&(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("label",{className:"text-sm text-text-secondary mr-2",children:"Manage"}),c.map(e=>(0,f.jsxs)("button",{onClick:()=>(e=>{let t=c.filter(t=>t.id!==e);u(t);try{localStorage.setItem("import:mappings",JSON.stringify(t))}catch(e){console.warn("failed to delete preset",e)}})(e.id),className:"px-2 py-1 text-xs bg-transparent rounded border border-border hover:bg-secondary",title:`Delete preset ${e.name}`,children:["Delete ",e.name]},e.id))]})})]}),(0,f.jsx)("div",{className:"max-h-64 overflow-auto border border-border rounded-lg p-3 mb-4",children:(0,f.jsxs)("table",{className:"w-full text-sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"text-left p-2",children:"Column"}),(0,f.jsx)("th",{className:"text-left p-2",children:"Sample"}),(0,f.jsx)("th",{className:"text-left p-2",children:"Map to field"})]})}),(0,f.jsx)("tbody",{children:t.map(e=>(0,f.jsxs)("tr",{className:"align-top",children:[(0,f.jsx)("td",{className:"p-2 align-top font-medium",children:e}),(0,f.jsx)("td",{className:"p-2 align-top",children:String((r[0]&&r[0][e])??"-")}),(0,f.jsx)("td",{className:"p-2",children:(0,f.jsxs)("select",{value:o[e]??"",onChange:t=>{var r;return r=t.target.value,void(l(t=>({...t,[e]:r})),i&&d(null))},className:"w-full px-2 py-1 border border-border rounded-lg bg-background text-foreground text-sm",children:[(0,f.jsx)("option",{value:"",children:"-- Do not import --"}),s.map(e=>(0,f.jsx)("option",{value:e.name,children:e.label||e.name},e.name))]})})]},e))})]})}),i?(0,f.jsx)("p",{className:"text-sm text-error mb-3",children:i}):null,(0,f.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,f.jsx)("button",{onClick:a,className:"px-3 py-2 rounded-lg bg-transparent border border-border text-text-secondary hover:bg-secondary",children:"Cancel"}),(0,f.jsx)("button",{onClick:()=>{0===Object.values(o).filter(e=>e&&e.length>0).length?d("Please map at least one column before importing"):n(o)},className:"px-3 py-2 rounded-lg bg-primary text-white hover:bg-primary/90",children:"Import"})]})]}),m&&(0,f.jsx)(tm,{open:m,title:"Save column mapping preset",defaultValue:"",onCancel:()=>x(!1),onConfirm:e=>(e=>{let t=[{id:Date.now().toString(),name:e,mapping:o},...c];u(t);try{localStorage.setItem("import:mappings",JSON.stringify(t))}catch(e){console.warn("failed to save preset",e)}x(!1)})(e)})]}):null}async function sV(e,t,r,s,a,n){if(window.myappAPI&&"function"==typeof window.myappAPI.selectExcelFile){let o=await window.myappAPI.selectExcelFile();if(!o)return void e("No file selected");e(`Previewing ${o}...`);try{let l=await window.myappAPI.previewExcel(o);if(!l||!l.headers)return void e("Failed to preview file");t(o),r(l.headers),s(l.sample||[]);let i=await e6();a(i),n(),e("")}catch(t){console.error("previewExcel",t),e("Preview failed: "+(t instanceof Error?t.message:String(t)))}}else e("Desktop import not available")}function sB({changeScreenAction:e}){let[t,r]=(0,h.useState)(null),[s,a]=(0,h.useState)(null),[n,o]=(0,h.useState)([]),[l,i]=(0,h.useState)([]),[d,c]=(0,h.useState)([]),[u,m]=(0,h.useState)(!1),[x,p]=(0,h.useState)(!1),[b,g]=(0,h.useState)(null);return(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsx)("div",{className:"h-16 border-b border-border flex items-center justify-between px-8",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Import / Export"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Manage data flow between formats and applications"})]})}),u&&(0,f.jsx)(sU,{open:u,headers:n,sampleRows:l,fields:d,onCancel:()=>m(!1),onConfirm:async e=>{if(m(!1),!s)return void r("No file selected");r("Importing...");try{let t=await window.myappAPI.importExcel(1,s,e);g({imported:t.imported??0,errors:t.errors??[]}),p(!0),r("")}catch(e){console.error("importExcel",e),g({imported:0,errors:[{message:e instanceof Error?e.message:String(e)}]}),p(!0),r("")}}}),x&&b&&(0,f.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,f.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>p(!1)}),(0,f.jsx)("div",{className:"relative bg-background rounded-lg shadow-lg max-w-lg w-full p-6",children:(0,f.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,f.jsx)("div",{className:"p-4 bg-green-100 rounded-full",children:(0,f.jsx)(sK,{size:36,className:"text-green-600"})}),(0,f.jsx)("h3",{className:"text-lg font-semibold",children:"Import Complete"}),(0,f.jsxs)("p",{className:"text-sm text-text-secondary",children:["Imported ",b.imported," rows",b.errors&&b.errors.length?` â ${b.errors.length} errors`:""]}),b.errors&&b.errors.length>0&&(0,f.jsxs)("div",{className:"mt-2 w-full max-h-40 overflow-auto text-sm text-rose-600 border border-rose-100 rounded p-2",children:[b.errors.slice(0,5).map((e,t)=>(0,f.jsx)("div",{className:"py-1",children:"string"==typeof e?e:e.message??JSON.stringify(e)},t)),b.errors.length>5&&(0,f.jsxs)("div",{className:"text-xs text-text-tertiary mt-2",children:["And ",b.errors.length-5," more..."]})]}),(0,f.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,f.jsx)("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>{p(!1),e("issues")},children:"View issues"}),(0,f.jsx)("button",{className:"px-4 py-2 border border-border rounded",onClick:()=>{p(!1),a(null),o([]),i([]),c([]),sV(r,a,o,i,c,()=>m(!0))},children:"Import another"})]})]})})]}),(0,f.jsx)("div",{className:"flex-1 overflow-auto px-8 py-8",children:(0,f.jsxs)("div",{className:"max-w-4xl space-y-8",children:[(0,f.jsxs)("div",{className:"bg-secondary rounded-lg p-8",children:[(0,f.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,f.jsx)("div",{className:"p-3 bg-primary-light rounded-lg",children:(0,f.jsx)(sW,{size:24,className:"text-primary"})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Import Data"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:"Migrate from existing Excel and photo collections"})]})]}),(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h4",{className:"font-semibold text-foreground mb-3",children:"Import Issue Records from Excel"}),(0,f.jsxs)("div",{className:"border-2 border-dashed border-primary rounded-lg p-8 text-center cursor-pointer hover:bg-primary-light transition-colors",children:[(0,f.jsx)("p",{className:"text-sm text-text-secondary mb-2",children:"Drag and drop your Excel file or click to browse"}),(0,f.jsx)("p",{className:"text-xs text-text-tertiary",children:"Supports .xlsx and .csv formats"}),(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsx)("button",{onClick:()=>sV(r,a,o,i,c,()=>m(!0)),className:"px-4 py-2 bg-primary text-white rounded-lg",children:"Import from file (Desktop)"})}),t?(0,f.jsx)("p",{className:"text-sm text-text-secondary mt-3",children:t}):null]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h4",{className:"font-semibold text-foreground mb-3",children:"Batch Import Photos"}),(0,f.jsxs)("div",{className:"border-2 border-dashed border-primary rounded-lg p-8 text-center cursor-pointer hover:bg-primary-light transition-colors",children:[(0,f.jsx)("p",{className:"text-sm text-text-secondary mb-2",children:"Drag and drop photos or click to browse"}),(0,f.jsx)("p",{className:"text-xs text-text-tertiary",children:"Auto-associates with existing issues and addresses"})]})]})]})]}),(0,f.jsxs)("div",{className:"bg-secondary rounded-lg p-8",children:[(0,f.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,f.jsx)("div",{className:"p-3 bg-success/10 rounded-lg",children:(0,f.jsx)(C,{size:24,className:"text-success"})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Export Data"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:"Send your data to Excel, PDF, or organized folders"})]})]}),(0,f.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,f.jsxs)("button",{className:"p-6 border border-border rounded-lg hover:bg-background transition-colors text-left",children:[(0,f.jsx)("div",{className:"font-semibold text-foreground mb-2",children:"Export to Excel"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Export issue tables and metadata"})]}),(0,f.jsxs)("button",{className:"p-6 border border-border rounded-lg hover:bg-background transition-colors text-left",children:[(0,f.jsx)("div",{className:"font-semibold text-foreground mb-2",children:"Export to PDF Report"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Generate formatted PDF reports"})]}),(0,f.jsxs)("button",{className:"p-6 border border-border rounded-lg hover:bg-background transition-colors text-left",children:[(0,f.jsx)("div",{className:"font-semibold text-foreground mb-2",children:"Export Photos Only"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Save organized photo folders"})]}),(0,f.jsxs)("button",{className:"p-6 border border-border rounded-lg hover:bg-background transition-colors text-left",children:[(0,f.jsx)("div",{className:"font-semibold text-foreground mb-2",children:"Export as Backup"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Complete database archive"})]})]})]}),(0,f.jsxs)("div",{className:"bg-secondary rounded-lg p-8",children:[(0,f.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-6",children:"Recent Activity"}),(0,f.jsxs)("div",{className:"space-y-3",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-medium text-foreground",children:"Exported Report: Q4 Infrastructure"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"January 2, 2024"})]}),(0,f.jsx)("span",{className:"text-xs text-text-tertiary",children:"PDF â¢ 2.4 MB"})]}),(0,f.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-border",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-medium text-foreground",children:"Imported 45 Photos"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"December 28, 2023"})]}),(0,f.jsx)("span",{className:"text-xs text-text-tertiary",children:"12 auto-linked"})]})]})]})]})})]})}let sJ=0,sH=new Map,sG=e=>{if(sH.has(e))return;let t=setTimeout(()=>{sH.delete(e),sX({type:"REMOVE_TOAST",toastId:e})},1e6);sH.set(e,t)},sY=[],sZ={toasts:[]};function sX(e){sZ=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?sG(r):e.toasts.forEach(e=>{sG(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(sZ,e),sY.forEach(e=>{e(sZ)})}function sQ({...e}){let t=(sJ=(sJ+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>sX({type:"DISMISS_TOAST",toastId:t});return sX({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>sX({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function s0(){let[e,t]=h.useState(sZ);return h.useEffect(()=>(sY.push(t),()=>{let e=sY.indexOf(t);e>-1&&sY.splice(e,1)}),[e]),{...e,toast:sQ,dismiss:e=>sX({type:"DISMISS_TOAST",toastId:e})}}let s2=v("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);function s1({...e}){return(0,f.jsx)(rz,{"data-slot":"dialog",...e})}function s4({...e}){return(0,f.jsx)(rL,{"data-slot":"dialog-portal",...e})}function s3({className:e,...t}){return(0,f.jsx)(r_,{"data-slot":"dialog-overlay",className:eG("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function s6({className:e,children:t,showCloseButton:r=!0,...s}){return(0,f.jsxs)(s4,{"data-slot":"dialog-portal",children:[(0,f.jsx)(s3,{}),(0,f.jsxs)(rK,{"data-slot":"dialog-content",className:eG("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,r&&(0,f.jsxs)(rX,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,f.jsx)(e4,{}),(0,f.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function s5({className:e,...t}){return(0,f.jsx)("div",{"data-slot":"dialog-header",className:eG("flex flex-col gap-2 text-center sm:text-left",e),...t})}function s8({className:e,...t}){return(0,f.jsx)("div",{"data-slot":"dialog-footer",className:eG("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function s7({className:e,...t}){return(0,f.jsx)(rH,{"data-slot":"dialog-title",className:eG("text-lg leading-none font-semibold",e),...t})}let s9=["text","number","date","textarea","select","email","tel","boolean"];function ae(){let[e,t]=(0,h.useState)([]),[r,s]=(0,h.useState)(!1),[a,n]=(0,h.useState)(!1),[o,l]=(0,h.useState)({name:"",type:"text"}),{toast:i}=s0();(0,h.useEffect)(()=>{d()},[]);let d=async()=>{t((await e5()).sort((e,t)=>(e.index??999)-(t.index??999)))},c=async()=>{o.name.trim()?(n(!0),await e8({name:o.name,label:o.name,type:o.type,required:!1,static:!1,index:e.length})?(i({title:"Success",description:"Field added successfully"}),l({name:"",type:"text"}),s(!1),await d()):i({title:"Error",description:"Failed to add field"}),n(!1)):i({title:"Error",description:"Field name is required"})},u=async e=>{e&&(await e7(e)?(i({title:"Success",description:"Field deleted successfully"}),await d()):i({title:"Error",description:"Failed to delete field"}))};return(0,f.jsxs)("div",{className:"bg-secondary rounded-lg p-8",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,f.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Custom Fields"}),(0,f.jsxs)(eZ,{onClick:()=>s(!0),className:"flex items-center gap-2",children:[(0,f.jsx)(O,{size:18}),(0,f.jsx)("span",{children:"Add Field"})]})]}),0===e.length?(0,f.jsx)("p",{className:"text-text-secondary text-center py-8",children:"No custom fields yet. Create one to get started!"}):(0,f.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,f.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-background rounded-lg border border-border hover:border-primary transition-colors",children:[(0,f.jsx)(s2,{size:18,className:"text-text-tertiary cursor-grab"}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("p",{className:"font-medium text-foreground",children:e.name}),(0,f.jsx)("p",{className:"text-sm text-text-secondary capitalize",children:e.type})]}),(0,f.jsx)("button",{onClick:()=>u(e.id),className:"p-2 hover:bg-error/10 rounded text-error transition-colors",children:(0,f.jsx)(tf,{size:18})})]},e.id))}),(0,f.jsx)(s1,{open:r,onOpenChange:s,children:(0,f.jsxs)(s6,{children:[(0,f.jsx)(s5,{children:(0,f.jsx)(s7,{children:"Add Custom Field"})}),(0,f.jsxs)("div",{className:"space-y-4 py-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Field Name"}),(0,f.jsx)("input",{type:"text",placeholder:"e.g., Budget, Owner, Status",value:o.name,onChange:e=>l({...o,name:e.target.value}),className:"mt-1 w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Field Type"}),(0,f.jsx)("select",{value:o.type,onChange:e=>l({...o,type:e.target.value}),className:"mt-1 w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground",children:s9.map(e=>(0,f.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,f.jsxs)(s8,{children:[(0,f.jsx)(eZ,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,f.jsx)(eZ,{onClick:c,disabled:a,children:a?"Adding...":"Add Field"})]})]})})]})}function at(){let[e,t]=(0,h.useState)([]),[r,s]=(0,h.useState)({}),[a,n]=(0,h.useState)(!1),{toast:o}=s0();(0,h.useEffect)(()=>{l()},[]);let l=async()=>{let e=await e6();t(e),console.log("Loaded fields:",e);let r={};e.forEach(e=>{r[e.id]=!1!==e.visible}),s(r)},i=async(e,t)=>{s({...r,[e]:t}),n(!0),await e9(e,t)?o({title:"Success",description:"Field visibility updated"}):o({title:"Error",description:"Failed to update field visibility"}),n(!1)};return(0,f.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,f.jsx)("div",{className:"h-16 border-b border-border flex items-center justify-between px-8",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Settings"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Customize fields and default behaviors"})]})}),(0,f.jsx)("div",{className:"flex-1 overflow-auto px-8 py-8",children:(0,f.jsxs)("div",{className:"max-w-4xl space-y-8",children:[(0,f.jsx)(ae,{}),(0,f.jsxs)("div",{className:"bg-secondary rounded-lg p-8",children:[(0,f.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Field Visibility"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary mb-6",children:"Select which fields will be displayed in the issue list table. Toggling fields here only affects the table view and does not remove them from forms or details."}),(0,f.jsx)("div",{className:"space-y-3",children:e.length>0?e.map(e=>(0,f.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer p-3 hover:bg-background rounded-lg transition-colors disabled:opacity-50",children:[(0,f.jsx)("input",{type:"checkbox",checked:!1!==r[e.id],onChange:t=>i(e.id,t.target.checked),disabled:a,className:"w-5 h-5 rounded border-2 border-primary accent-primary cursor-pointer disabled:opacity-50"}),(0,f.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.label||e.name}),e.static&&(0,f.jsx)("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded",children:"Static"})]},e.id)):(0,f.jsx)("p",{className:"text-sm text-text-tertiary py-4",children:"Loading fields..."})})]}),(0,f.jsxs)("div",{className:"bg-secondary rounded-lg p-8",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,f.jsx)("h3",{className:"text-xl font-semibold text-foreground",children:"Report Templates"}),(0,f.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover transition-colors",children:[(0,f.jsx)(O,{size:18}),(0,f.jsx)("span",{children:"New Template"})]})]}),(0,f.jsxs)("div",{className:"space-y-3",children:[(0,f.jsxs)("div",{className:"p-4 bg-background rounded-lg border border-border hover:border-primary transition-colors cursor-pointer",children:[(0,f.jsx)("p",{className:"font-medium text-foreground mb-1",children:"Standard Issue Report"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Default template for all reports"})]}),(0,f.jsxs)("div",{className:"p-4 bg-background rounded-lg border border-border hover:border-primary transition-colors cursor-pointer",children:[(0,f.jsx)("p",{className:"font-medium text-foreground mb-1",children:"Photo Catalog"}),(0,f.jsx)("p",{className:"text-sm text-text-secondary",children:"Photo-focused report template"})]})]})]})]})})]})}function ar(){let[e,t]=(0,h.useState)(null),[r,s]=(0,h.useState)("issues"),[a,n]=(0,h.useState)(!1);(0,h.useEffect)(()=>{let e=localStorage.getItem("currentProject");if(e)try{t(JSON.parse(e))}catch{}n(!0)},[]),(0,h.useEffect)(()=>{e&&a&&localStorage.setItem("currentProject",JSON.stringify(e))},[e,a]);let o=e=>{t(e)};return e?(0,f.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,f.jsx)(z,{currentScreen:r,onScreenChange:s,currentProject:e,onProjectChange:o,onCloseProject:()=>{t(null),localStorage.removeItem("currentProject")}}),(0,f.jsx)("main",{className:"flex-1 flex flex-col overflow-hidden",children:(()=>{switch(r){case"issues":return(0,f.jsx)(sS,{});case"tasks":return(0,f.jsx)(sO,{});case"photos":return(0,f.jsx)(sF,{});case"search":return(0,f.jsx)(sL,{});case"reports":return(0,f.jsx)(sq,{});case"import-export":return(0,f.jsx)(sB,{changeScreenAction:s});case"settings":return(0,f.jsx)(at,{})}})()})]}):(0,f.jsx)(e2,{onProjectSelect:o})}e.s(["default",()=>ar],31713)}]);