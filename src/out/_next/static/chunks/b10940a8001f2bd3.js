(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43992,e=>{"use strict";function t(e){return`defects_${e}`}async function r(e){let r=e?.id??(()=>{try{let e=localStorage.getItem("currentProject");if(e){let t=JSON.parse(e);return t?.id}}catch{}return null})();if(!r)return[];if(window.myappAPI?.getDefects)try{return await window.myappAPI.getDefects(r)}catch(e){console.error("[v0] electron-lib getDefects error:",e)}try{let e=localStorage.getItem(t(r));if(!e)return[];let i=JSON.parse(e);return Array.isArray(i)?i:[]}catch{return[]}}async function i(e,i){let n=i?.id??(()=>{try{let e=localStorage.getItem("currentProject");if(e){let t=JSON.parse(e);return t?.id}}catch{}return null})();if(!n)return null;if(window.myappAPI?.saveDefect)try{return await window.myappAPI.saveDefect(n,e)}catch(e){console.error("[v0] electron-lib saveDefect error:",e)}let c=await r({id:n,name:"",description:""});if(e.id){let t=c.findIndex(t=>String(t.id)===String(e.id));t>=0&&(c[t]={id:Number(e.id),number:e.number,description:e.description})}else c.push({id:Date.now(),number:e.number,description:e.description});return localStorage.setItem(t(n),JSON.stringify(c)),e.id?{id:Number(e.id),number:e.number,description:e.description}:{id:Date.now(),number:e.number,description:e.description}}async function n(e,i){let n=i?.id??(()=>{try{let e=localStorage.getItem("currentProject");if(e){let t=JSON.parse(e);return t?.id}}catch{}return null})();if(!n)return!1;if(window.myappAPI?.deleteDefect)try{return await window.myappAPI.deleteDefect(n,e)}catch(e){console.error("[v0] electron-lib deleteDefect error:",e)}let c=(await r({id:n,name:"",description:""})).filter(t=>String(t.id)!==String(e));return localStorage.setItem(t(n),JSON.stringify(c)),!0}e.s(["deleteDefect",()=>n,"getDefects",()=>r,"saveDefect",()=>i])}]);