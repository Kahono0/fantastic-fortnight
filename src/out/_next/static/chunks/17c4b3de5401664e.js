(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16750,e=>{"use strict";function t(e){return`records_${e}`}async function r(e){if(window.myappAPI?.getRecords)try{return await window.myappAPI.getRecords(e.id)}catch(e){console.error("[v0] electron-lib getRecords error:",e)}try{let r=localStorage.getItem(t(e.id));if(!r)return[];let o=JSON.parse(r);return Array.isArray(o)?o:[]}catch{return[]}}async function o(e,o){if(window.myappAPI?.createRecord)try{return await window.myappAPI.createRecord(e.id,o)}catch(e){console.error("[v0] electron-lib createRecord error:",e)}let c=await r(e),n={id:Date.now(),project_id:e.id,title:o,comments:[],created_at:new Date().toISOString()};return localStorage.setItem(t(e.id),JSON.stringify([n,...c])),n}async function c(e,o){if(window.myappAPI?.updateRecord)try{return await window.myappAPI.updateRecord(e,o)}catch(e){console.error("[v0] electron-lib updateRecord error:",e)}try{let c=o.project_id;if(!c)return null;let n=await r({id:c,name:"",description:""}),i=n.findIndex(t=>t.id===e);if(i<0)return null;let a={...n[i],title:o.title??n[i].title,comments:o.comments??n[i].comments,updated_at:new Date().toISOString()};return n[i]=a,localStorage.setItem(t(c),JSON.stringify(n)),a}catch{return null}}async function n(e,o){if(window.myappAPI?.deleteRecord)try{return await window.myappAPI.deleteRecord(e.id,o)}catch(e){console.error("[v0] electron-lib deleteRecord error:",e)}let c=(await r(e)).filter(e=>e.id!==o);return localStorage.setItem(t(e.id),JSON.stringify(c)),!0}e.s(["createRecord",()=>o,"deleteRecord",()=>n,"getRecords",()=>r,"updateRecord",()=>c])}]);